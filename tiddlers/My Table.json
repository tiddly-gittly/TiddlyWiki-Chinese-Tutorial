[
    {
        "text": "http://www.tiddlytools.com/\n\n$:/macros/sk/ColumnCalc.js\n\n```\n    <<ColumnCalc tableID function startrow endrow all >>\n```\n\n    where:\n\n* tableID is the ID tag assigned to the table `<table id=\"myTable>` This allows the use of multiple tables in the same tiddler\n*        function is a keyword that specifies the type of calculation to perform:\n**            total or sum or no param<br>adds up values for cells above it in the column\n**            count<br>number of non-empty cells in column\n**            average or avg<br>average of cells in column (i.e., total/count)\n** min or minimum<br> the lowest number within the range\n** max or maxium<br> the highest number within the range\n*        startrow,endrow (optional)<br>specifies a ONE-based range of rows for limiting the calculation. Use negative numbers to specify an offset from the current row (e.g., <<calc sum 3 5>> adds up rows 3, 4 and 5, while <<calc sum 1 -1>> adds up all numbers in the column excluding the current row (i.e., the same as the default if no startrow/endrow params are specified)\n*        all (optional)<br>        normally, only cells containing numbers or timestamps (hh:mm:ss) are included in the calculations. The all keyword allows text to be processed as if it contained a \"0\". Care should be used or this will include the header row. If you choose to use \"all\" then you must have a startrow and an endrow.\n\n{{test table}}\n\n<table id=\"table2\">\n<tr><th>weeble</th><th>wobble</th><th>all wobble</th></tr>\n<tr><td>foo</td><td>12.22</td><td>12.22</td></tr>\n<tr><td>bar</td><td>7.1</td><td>7.1</td></tr>\n<tr><td>baz</td><td>3.09</td><td>3.09</td></tr>\n<tr><td>baz</td><td></td><td></td></tr>\n<tr><td>count</td><td><<ColumnCalc table2 count 1 -1 >></td><td><<ColumnCalc table2 count 1 -1 all>></td></tr>\n<tr><td>avg</td><td><<ColumnCalc table2 avg 1 -2 >></td><td><<ColumnCalc table2 avg 1 -2 all>></td></tr>\n<tr><td>sum</td><td><<ColumnCalc table2 sum 1 -3 >></td><td><<ColumnCalc table2 sum 1 -3 all>></td></tr>\n<tr><td>min</td><td><<ColumnCalc table2 min 1 -4 >></td><td><<ColumnCalc table2 min 1 -4 all>></td></tr>\n<tr><td>max</td><td><<ColumnCalc table2 max 1 -5 >></td><td><<ColumnCalc table2 max >></td></tr>\n</table>\n",
        "title": "ColumnCalculations",
        "tags": "",
        "modified": "20170504194116421",
        "created": "20170503182315745"
    },
    {
        "text": "Inline editable tables",
        "title": "Danielo Rodríguez",
        "tags": "Other",
        "modified": "20170428163615136",
        "last_name": "Rodriguez",
        "first_name": "Danielo",
        "created": "20170428163449267"
    },
    {
        "text": "{{||personafields}}",
        "voterrecords": "",
        "title": "Earline Steed",
        "tags": "Classmate",
        "ssdi": "",
        "spouse": "",
        "spokeo": "",
        "source2": "HC",
        "source1": "TT",
        "reported": "Yes",
        "pipl": "",
        "modifier": "Stephen",
        "modified": "20170427181935351",
        "missing": "Yes",
        "m_name": "Chaney",
        "link": "https://www.findagrave.com/cgi-bin/fg.cgi?page=gr&GSln=steed&GSfn=ea&GSiman=1&GSby=1947&GSbyrel=after&GSdyrel=all&GSob=b&GRid=96095073&df=all&",
        "last_name": "Steed",
        "full_name": "Earline Steed",
        "first_name": "Earline",
        "fb": "",
        "delete": "",
        "deceased": "2012 - Floral Haven",
        "creator": "Stephen",
        "created": "20170418133915801",
        "1967_phone": "",
        "1967_address": "132 E Jasper"
    },
    {
        "text": "title: Tiddler Title\n1967_address: Old Address\n1967_phone: Old_Phone\ncurrent_address: Current_Address\ndeceased: Deceased?\nfamily_tree: Data from Family Tree\nfb: Face Book\nfirst_name: First Name\nfmp: Find My Past\nfps: Find People Search\nfull_name: Full Name\nlast_name: Last Name\nlink: Link Data\nm_name: Married Name\nmdate: Marriage Date\nmissing: Missing?\npipl: Pipl Data\nremarks: Remarks\nreported: Have you reported yet?\nsibling: Sibling Name (class)\nsource1: In Hello Central\nsource2: In Tom Tom\nspokeo: Data from Spokeo\nspouse: Spouse's Name\nssdi: SS Death Index\nvoterrecords: Voter Records Data\nemail: Possible Emails",
        "type": "application/x-tiddler-dictionary",
        "title": "FieldsData",
        "tags": "",
        "modifier": "Stephen",
        "modified": "20170502185608369",
        "creator": "Stephen",
        "created": "20170502140219093"
    },
    {
        "text": "\\define lingo-base() $:/language/EditTemplate/\n\n\\define new-field-inner()\n<$reveal type=\"nomatch\" text=\"\" default=<<name>>>\n<$button>\n<$action-setfield $tiddler=\"FieldsData\" $index=<<name>> $value=<<value>>/>\n<$action-deletetiddler $tiddler=\"$:/temp/newfieldname\"/>\n<$action-deletetiddler $tiddler=\"$:/temp/newcaption\"/>\n<<lingo Fields/Add/Button>>\n</$button>\n</$reveal>\n<$reveal type=\"match\" text=\"\" default=<<name>>>\n<$button>\n<<lingo Fields/Add/Button>>\n</$button>\n</$reveal>\n\\end\n\n\\define new-field()\n<$set name=\"name\" value={{$:/temp/newfieldname}}>\n<$set name=\"value\" value={{$:/temp/newcaption}}>\n<<new-field-inner>>\n</$set>\n</$set>\n\\end\n\n!! 这些字段已经在 FieldsData tiddler 中定义。\n\n请注意，这里的改变只影响到 [[FieldsData]] 和直接依赖 [[FieldData]] 的 tiddlers。\n<$set name=\"currentTiddler\" value=\"FieldsData\">\n<table class=\"noborder\">\n<tr><th>Delete?</th><th>fieldname</th><th>caption</th></tr>\n<$list filter=\"[all[current]indexes[]]\" variable=\"fieldName\">\n<tr>\n<td>\n<$button>\n<$action-setfield $tiddler=\"FieldsData\" $index=<<fieldName>> />\nDel</$button>\n</td>\n<td><<fieldName>></td>\n<td><$edit-text index=<<fieldName>> tag=\"input\"/></td>\n</tr>\n</$list>\n</table>\n</$set>\n\n<div class=\"tc-edit-field-add\">\n<em ><<lingo Fields/Add/Prompt>></em>\n\n<span class=\"tc-edit-field-add-name\">\n<$edit-text tiddler=\"$:/temp/newfieldname\" tag=\"input\" default=\"\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}} focusPopup=<<qualify \"$:/state/popup/field-dropdown\">> class=\"tc-popup-handle\"/>\n</span>\n\n<$reveal state=<<qualify \"$:/state/popup/field-dropdown\">> type=\"nomatch\" text=\"\" default=\"\">\n<div class=\"tc-block-dropdown tc-edit-type-dropdown\">\n<$linkcatcher to=\"$:/temp/newfieldname\">\n<$list filter=\"[!is[shadow]!is[system]fields[]search:title{$:/temp/newfieldname}sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type -field1 -field2 -field3 -field4 -filteritem -filtertag -notitem -sortby -sortdir -delete\"  variable=\"currentField\">\n<$link to=<<currentField>>>\n<<currentField>>\n</$link>\n</$list>\n</$linkcatcher>\n</div>\n</$reveal>\n\n<$edit-text tiddler=\"$:/temp/newcaption\" tag=\"input\" default=\"\" placeholder=\"New Field Caption\" />\n\n<$macrocall $name=\"new-field\"/>\n\n</div>\n",
        "title": "FieldsEditor",
        "modified": "20221120062128094",
        "created": "20170428013506880"
    },
    {
        "text": "RowTableMacros\n\nColumnTableMacros",
        "title": "Jed Carty",
        "tags": "Other",
        "modified": "20170428163658373",
        "created": "20170428163621313"
    },
    {
        "text": "{{||personafields}}",
        "voterrecords": "",
        "title": "Kathy Adams",
        "tags": "Classmate",
        "ssdi": "",
        "spouse": "",
        "spokeo": "",
        "source2": "",
        "source1": "TT",
        "pipl": "no",
        "modifier": "Stephen",
        "modified": "20170424131912356",
        "missing": "Yes",
        "last_name": "Adams",
        "full_name": "Kathleen W. Adams",
        "first_name": "Kathy",
        "fb": "",
        "delete": "",
        "deceased": "",
        "creator": "Stephen",
        "created": "20170418133913345",
        "1967_phone": "",
        "1967_address": ""
    },
    {
        "text": "{{||personafields}}\n",
        "voterrecords": "",
        "title": "Kenneth Wolaridge",
        "tags": "Classmate",
        "ssdi": "https://familysearch.org/ark:/61903/1:1:J1KR-W61",
        "spokeo": "nothing",
        "source2": "HC",
        "source1": "TT",
        "reported": "Yes",
        "remarks": "",
        "pipl": "",
        "modifier": "Stephen",
        "modified": "20170427181957555",
        "missing": "Yes",
        "mdate": "",
        "link": "https://www.findagrave.com/cgi-bin/fg.cgi?page=gr&GSln=wolaridge&GSiman=1&GSby=1947&GSbyrel=after&GSdyrel=all&GSst=38&GScntry=4&GSob=n&GRid=105628810&df=all&",
        "last_name": "Wolaridge",
        "full_name": "Kenneth John Wolaridge",
        "fmp": "",
        "first_name": "Kenneth",
        "fb": "",
        "delete": "",
        "deceased": "1978 Crown Hill - Tulsa",
        "creator": "Stephen",
        "created": "20170418133916493",
        "1967_phone": "",
        "1967_address": ""
    },
    {
        "created": "20170501172211267",
        "text": "\\define FieldThing(name:\"current_address\")\n{{FieldsData##$name$}}\n\\end\n\n\\define FieldChoice(name:\"title\")\n<$select field=$name$ default='title'>\n<option value=\"\">none</option>\n<$set name=\"currentTiddler\" value=\"FieldsData\">\n<$list filter=\"[all[current]indexes[]]\" variable=\"fieldName\">\n<option value=<<fieldName>>>\n<$macrocall $name=\"FieldThing\" name=<<fieldName>> />\n</option>\n</$list>\n</$set>\n</$select>\n\\end\n\n<style>\n.styled-select { overflow: hidden; }\n.styled-select select { -moz-appearance: none; -webkit-appearance: none;\nbackground-color:<<colour table-header-background>>; font-size: 14px; border:0px;}\n.styled-input {border: none;  border-color: transparent;}\n.noborder, .noborder td { border-width:0px; background-color:<<colour background>>\n</style>\n\n<div class=\"styled-select\">\n<table class=\"noborder\">\n<tr>\n<td>\nSearch for: <$edit-text tiddler=\"$:/config/Manager/Filter\" tag=\"input\" default=\"\" placeholder={{$:/language/Manager/Controls/Search/Placeholder}}/>\n</td>\n<td>\nSort by: \n<<FieldChoice sortby>>\n</td>\n<td>\n<$checkbox field=\"sortdir\" checked=\"reverse\" unchecked=\"forward\" default=\"forward\"> Descending</$checkbox>\n</td>\n</tr>\n<tr>\n<td>\nMust Have: \n<<FieldChoice filteritem>>\n</td>\n<td>\nMust NOT Have: \n<<FieldChoice notitem>>\n</td>\n<td>\nRequired Tag \n<$select  field=\"filtertag\" default=\"\">\n<option value=\"\">none</option>\n<$list filter=\"[tags[]!is[system]sort[title]]\" variable=\"tag\">\n<option value=<<tag>>><$text text=<<tag>>/></option>\n</$list>\n</$select>\n</td>\n</tr>\n</table>\n\n<$set name=\"var1\" value={{!!field1}}>\n<$set name=\"var2\" value={{!!field2}}>\n<$set name=\"var3\" value={{!!field3}}>\n<$set name=\"var4\" value={{!!field4}}>\n<table id=\"myTable2\">\n<tr>\n<th>Title</th>\n<th>\n<<FieldChoice field1>>\n</th>\n<th>\n<<FieldChoice field2>>\n</th>\n<th>\n<<FieldChoice field3>>\n</th>\n<th>\n<<FieldChoice field4>>\n</th>\n</tr>\n<$list filter=\"[!is[system]!is[shadow]has{!!filteritem}!has{!!notitem}search{$:/config/Manager/Filter}tag:strict{!!filtertag}sort{!!sortby}order{!!sortdir}]\">\n<tr>\n<td>\n<$link>{{!!title}}</$link>\n</td>\n<td>\n<$edit-text class=\"styled-input\" tiddler=<<ThisTiddler>> field=<<var1>>/>\n</td>\n<td>\n<$edit-text class=\"styled-input\" tiddler=<<ThisTiddler>> field=<<var2>>/>\n</td>\n<td>\n<$edit-text class=\"styled-input\" tiddler=<<ThisTiddler>> field=<<var3>>/>\n</td>\n<td>\n<$edit-text class=\"styled-input\" tiddler=<<ThisTiddler>> field=<<var4>>/>\n</td>\n</tr>\n</$list>\n<tr><td>count</td><td><<ColumnCalc myTable2 count 2 -1 all>></td><td><<ColumnCalc myTable2 count 2 -1 all>></td><td><<ColumnCalc myTable2 count 2 -1 all>></td><td><<ColumnCalc myTable2 count 2 -1 all>></td></tr>\n\n</table>\n</$set>\n</$set>\n</$set>\n</$set>\n</div>\n\nNumber of Entries: <$list filter=\"[!is[system]!is[shadow]has{!!filteritem}!has{!!notitem}search{$:/config/Manager/Filter}tag:strict{!!filtertag}sort{!!sortby}order{!!sortdir}count[]]\"/>\n",
        "title": "My Table",
        "tags": "",
        "sortdir": "forward",
        "sortby": "last_name",
        "notitem": "",
        "modifier": "Stephen",
        "modified": "20221120063349070",
        "filtertag": "Classmate",
        "filteritem": "title",
        "field4": "link",
        "field3": "full_name",
        "field2": "deceased",
        "field1": "first_name",
        "creator": "Stephen"
    },
    {
        "text": "```\nversion.extensions.ColumnCalculatorPlugin= {major: 0, minor: 6, revision: 1, date: new Date(2007,10,26)};\nconfig.macros.columncalc= {\n\thandler:\n\tfunction(place,macroName,params,wikifier,paramString,tiddler) {\n\n\t\tif (place.parentNode.nodeName.toLowerCase()!='tr') return false; // not in a table\n\t\tvar tbody=place.parentNode.parentNode;\n\t\tvar row=tbody.childNodes.length-1; // current row #\n\t\tvar col=place.parentNode.childNodes.length-1; // current column #\n\n\t\tvar fn=params.shift();\n\t\tvar allCells=(params[0]&&params[0].toLowerCase()=='all');\n\t\tif (allCells) params.shift();\n\t\tvar startrow=0; var endrow=row-1;\n\t\tif (params[0]) var startrow=params.shift();\n\t\tif (startrow<0) startrow=1*startrow+row; else startrow=startrow-1;\n\t\tif (params[0]) var endrow=params.shift();\n\t\tif (endrow<0) endrow=1*endrow+row; else endrow=endrow-1;\n\n\t\tvar count=total=0;\n\t\tfor (r=startrow; r<=endrow; r++) {\n\t\t\tvar cell=tbody.childNodes[r].childNodes[col].textContent;\n\t\t\tif (!cell) cell=tbody.childNodes[r].childNodes[col].innerHTML; // fallback for older browsers\n\t\t\tvar val=cell; var hms=cell.split(':');\n\t\t\tif (hms.length==3) { // an hh:mm:ss time value\n\t\t\t\tvar val=(hms[0]||0)*3600+(hms[1]||0)*60+(hms[2]||0)*1;\n\t\t\t\tvar showTime=true; // use time formatting for results...\n\t\t\t}\n\t\t\telse if (cell.length && !isNaN(cell)) // a numeric value\n\t\t\t\tvar val=eval(cell);\n\t\t\telse if (allCells) // an non-numeric cell (when 'all' is used)\n\t\t\t\tvar val=0;\n\t\t\tif (!isNaN(val)) { total+=val; count++; }\n\t\t}\n\t\tswitch (fn) {\n\t\t\tcase 'count':\n\t\t\t\tvar result=count;\n\t\t\t\tbreak;\n\t\t\tcase 'average':\n\t\t\tcase 'avg':\n\t\t\t\tvar result=Math.floor(total/count*100)/100; // truncate to two decimal places\n\t\t\t\tbreak;\n\t\t\tcase 'total':\n\t\t\tcase 'sum':\n\t\t\tdefault:\n\t\t\t\tvar result=total;\n\t\t\t\tbreak;\n\t\t}\n\t\tif (showTime && fn!='count') {\n\t\t\tvar h=Math.floor(result/3600);\n\t\t\tvar m=Math.floor((result-h*3600)/60);\n\t\t\tvar s=Math.floor((result-h*3600-m*60)*100)/100; // truncate to two decimal places\n\t\t\tresult=(h<10?'0':'')+h+':'+(m<10?'0':'')+m+':'+(s<10?'0':'')+s;\n\t\t}\n\t\tcreateTiddlyText(place,result);\n\t}\n}\n```",
        "title": "Old Code",
        "tags": "",
        "modified": "20170504180217801",
        "created": "20170504180217801"
    },
    {
        "text": "{{||personafields}}",
        "voterrecords": "",
        "title": "Paula Catts",
        "tags": "Classmate",
        "spokeo": "",
        "source2": "HC",
        "source1": "TT",
        "pipl": "",
        "modifier": "Stephen",
        "modified": "20170427181808578",
        "last_name": "Catts",
        "full_name": "Paula Sharyn Catts",
        "first_name": "Paula",
        "fb": "",
        "deceased": "Yes",
        "creator": "Stephen",
        "created": "20170418133913461",
        "1967_phone": "",
        "1967_address": ""
    },
    {
        "text": "这是我的~TiddlyWiki 可编辑表格的版本。我创建它是为了帮助记录高中同学的聚会情况。我现在在我的几个维基中使用这个表格。\n\n一般来说，点击任何有彩色背景的区域都会产生一个可用的下拉菜单。因此，表格的任何一列都可以随意改变。该表可以按任何可用的字段进行排序，无论它们是否被显示。通过使用搜索框，可以进一步限制所选条目。\n\n表本身的条目，即不是标题行或第一列的条目，可以通过简单地点击单元格和编辑直接进行编辑。这些单元格都是直接链接到各个 tiddlers 的编辑文本部件。\n\n要设置这一点，你需要修改表格 tiddler 的 \"optlist\"，以包括所有你希望能够包含在表格中或能够用来对表格进行排序的字段。你还需要修改数据 tiddler [[FieldsData]]。optlist 字段中的每个条目必须在 [[FieldsData]] 中有一个匹配的条目，否则会出现一个空白。一旦你完成了所有的设置，你还需要删除表格 tiddler 中的 \"正在使用的字段 \"部分。\n\n这种方法有其局限性。\n\n#Table cell formatting is not possible. 单元格将永远是左对齐的。\n#表格的列宽是固定的，因为有格式化和选择选项。\n#你不应该创建一个列来处理tiddlers的文本字段。只有适合输入框的数量才会被显示。\n#你不应该在其中一个单元格中编辑一个tiddler标题。这将创建额外的提示符。\n#如果你在一列中编辑一个条目，而这一列也被选为 \"必须没有 \"的字段，那么当你开始输入时，该提示符就会消失。\n\nColumnCalculations\n\n这个程序包括 Eric Shulman 的 TiddlyWiki 经典程序的修改版。它允许一些面向列的函数，如计数、求和、平均、最小和最大，并且可以处理数字和例程。\n\n我必须感谢那些在这个问题上工作的人，我从他们那里得到了灵感和/或代码。\n\n* Danielo Rodríguez 的内联可编辑表格\n* Jed Carty 的~RowTableMacro 和~ColumnTableMacro\n* Jeremy Rustin 的 Tiddler 管理器，当然还有~TiddlyWiki 本身\n*Eric Shulman - 他的列计算程序。\n\n\n!!Live Example [[My Table]]\n\n{{My Table}}\n\n!!Field in Use\n<$set name=\"currentTiddler\" value=\"My Table\">\n{{||$:/core/ui/TiddlerField2}}\n</$set>\n\n!!Required Tiddlers\nFieldsData - a data tiddler with the names of fields in use and the caption that will be substituted for them.\n{{FieldsData}}\n\n!!Optional Tiddlers\n#$:/core/ui/TiddlerField2 - Modified system tiddler to show user fields and content \n#FieldsEditor - A Tiddler that will directly edit the data in FieldsData\n#$:/macros/sk/ColumnCalc.js - My version of Eric Shulman's ~ColumnCalculator plugin which he created for TW Classic. http://www.tiddlytools.com/#ColumnCalculatorPlugin\n",
        "title": "Start",
        "tags": "",
        "modifier": "Stephen",
        "modified": "20221120061600563",
        "creator": "Stephen",
        "created": "20170426141009781"
    },
    {
        "text": "<table id=\"myTable\">\n<tr><th>weeble</th><th>wobble</th><th>wuzzle</th></tr>\n<tr><td>foo</td><td>3.2</td><td>00:22:15</td></tr>\n<tr><td>bar</td><td>1.1</td><td>00:03:30</td></tr>\n<tr><td>baz</td><td>2.9</td><td>00:01:45</td></tr>\n<tr><td>gronk</td><td>4.3</td><td></td></tr>\n<tr><td>snork</td><td>non-number</td><td></td></tr>\n\n<tr><td>count</td><td><<ColumnCalc myTable count 1 -1>></td><td><<ColumnCalc myTable count 1 -1 >></td></tr>\n\n<tr><td>all count</td><td><<ColumnCalc myTable count 1 -2 all>></td><td><<ColumnCalc myTable count 1 -2 all>></td></tr>\n\n<tr><td>total</td><td><<ColumnCalc myTable sum 1 -3>></td><td><<ColumnCalc myTable sum 1 -3 all>></td></tr>\n</table>",
        "title": "test table",
        "tags": "",
        "modified": "20170504175509714",
        "created": "20170504160453099"
    }
]