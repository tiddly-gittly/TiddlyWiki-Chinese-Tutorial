{"author":"LinOnetwo","core-version":">=5.1.22","dependents":"$:/plugins/tiddlywiki/qrcode $:/plugins/kixam/datepicker","description":"Sync data between Mobile HTML (Tiddloid/Quine2/TidGi-Mobile) <-> Desktop NodeJS App (TidGi) ","list":"readme ui/ServerList","plugin-type":"plugin","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/tw-mobile-sync/Config/SyncInterval\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/Config/SyncInterval\",\"description\":\"minutes between sync\",\"text\":\"3\"},\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersPrefixToNotSync\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersPrefixToNotSync\",\"text\":\"$:/state $:/temp\"},\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersToNotSync\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersToNotSync\",\"text\":\"$:/HistoryList $:/StoryList $:/Import $:/language $:/layout\"},\"$:/plugins/linonetwo/tw-mobile-sync/develop\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/develop\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Use [[SIOC|https://github.com/taurenshaman/semantic-web/blob/cee9e421eed3f31a602f82375fb92fb109d638b7/data/sioc.rdf]] Ontology for server tiddler.\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/readme\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/readme\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define image()\\n  <img src=<<makeqr text:\\\"\\\"\\\"$(url)$\\\"\\\"\\\" size:\\\"350\\\">>/>\\n\\\\end\\n\\n! Sync Between NodeJS and Mobile HTML 在桌面端（NodeJS）和移动端（HTML 文件）之间同步\\n\\n本插件可以让你在基于 NodeJS 技术的桌面应用（例如太记）和基于 HTML 文件的手机端（例如 Tiddloid 安卓应用）之间同步数据。\\n\\n手机应用 ↔ 桌面应用 ↔ 云端\\n\\nThis plugin enables you sync date between NodeJS server App (e.g. TidGi App) and HTML file based mobile App (e.g. Tiddloid Android App).\\n\\nMobile App ↔ Desktop App ↔ Cloud\\n\\n!! How to use\\n\\n首先在手机端扫码，打开当前这个知识库的网页，然后保存出 HTML 文件后（详见中文教程的 [[如何保存|https://tw-cn.netlify.app/#TiddlyGit%E5%A4%AA%E8%AE%B0]] 章节），在 Tiddloid 里打开保存的 HTML 文件（可能需要先将文件移出下载目录不然 Tiddloid 无权限访问，详见其 [[说明书|https://github.com/donmor/Tiddloid]]）。\\n\\n然后打开 [[服务器列表|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]]，录入一下服务器地址：\\n\\n# 将上面扫码得到的 URL 复制一下，填入 [[服务器列表|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]] 里的「智能识别黏贴框」，然后点击「智能识别」按钮，会自动将 URL 解析后填入相应框内。你也可以点击「扫二维码」按钮开始扫码，扫码结果会自动填入「智能识别黏贴框」内\\n# 此时，「服务器 IP」和「服务器端口」框里应该要已经填好了 ip 和端口号\\n# 你需要填写一下「服务器名」这个框\\n# 点击「新增服务器」，会新建一个服务器信息条目，请确认创建此条目\\n# 这时新的服务器应该就出现在服务器列表里了，你可以点击「启用同步并立即同步」按钮，这样就可以在桌面端和手机端同步数据了\\n# 之后会每五分钟自动同步一次用户创建的条目（不包含插件），如果需要从桌面端同步插件到手机端，需要使用「[[拉取并覆盖|$:/plugins/linonetwo/tw-mobile-sync/ui/DownloadFullHtml]]」功能\\n\\nFirst scan the code on your cell phone, open the current knowledge base page, then save the HTML file (see the [[How to save|https://tw-cn.netlify.app/#TiddlyGit%E5%A4%AA%E8%AE%B0]] section of the Chinese tutorial for more details) and open the saved HTML file in Tiddloid (You may need to move the file out of the download directory first or Tiddloid will not have access to it, see its [[Instructions|https://github.com/donmor/Tiddloid]] for details).\\n\\nThen open the [[Server List|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]] and enter the following server address.\\n\\n# Copy the URL you got from the code above and fill in the \\\"Smart Identify Sticky Box\\\" in [[Server List|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]], then click the \\\"Smart Identify\\\" button, the URL will be automatically parsed and filled in the corresponding box. You can also click the \\\"Scan QR Code\\\" button to start scanning the code, and the result will be automatically filled into the \\\"Smart Identify Sticky Box\\\".\\n# At this point, the \\\"Server IP\\\" and \\\"Server Port\\\" boxes should already be filled with the ip and port numbers.\\n# You need to fill in the \\\"server name\\\" box\\n# Click on \\\"Add Server\\\", a new server information entry will be created, please confirm to create this entry\\n# The new server should now appear in the server list, you can click the \\\"Enable sync and sync now\\\" button to sync data between desktop and mobile.\\n# If you need to sync the plugin from desktop to mobile, you need to use the \\\"[[pull and overwrite|$:/plugins/linonetwo/tw-mobile-sync/ui/DownloadFullHtml]]\\\" function.\\n\\nTranslated with www.DeepL.com/Translator (free version)\\n\\n!! Server list and forms 服务器列表和新增表单\\n\\n[[Server List|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]] contains syncable servers, and button to add new server.\\n\\n!! QrCode of current server 当前服务器的二维码\\n\\n<$set name=\\\"content\\\" value={{{ [{$:/info/url/host}addprefix[//]addprefix{$:/info/url/protocol}addsuffix[/tw-mobile-sync/get-full-html]] }}}>\\n  <<content>>\\n  <<image>>\\n</$set>\\n\\nScan to add this server 扫码以添加此服务器 ({{$:/info/url/full}}).\\n\\n（二维码：当前服务器的地址）\\n\\nNeeds official QR plugin [[$:/plugins/tiddlywiki/qrcode]] to work. 需要安装官方二维码插件 [[$:/plugins/tiddlywiki/qrcode]] 才会有二维码出现在上面\\n\\n!! FAQ 常见问题\\n\\n!!! 在外面用了一天之后回家添加服务器，却无法同步到电脑端 When you come home to add a server after using it outside for a day, it won't sync to the computer side\\n\\n就是因为你新添加服务器后，它只会同步新建服务器之后新建的条目。这是又因为新建服务器时会根据当前时间添加一个 lastSync 字段，目前在点击同步按钮时，只会同步这个时间点之后的内容。你可以手动把服务器条目里这个字段的时间改早一天，这样就会同步你今天添加的内容了。未来我们将会添加更智能的同步方式，就不再需要这个字段了，就不会遇到这个问题了。\\n\\nThis is because when you add a new server, it only syncs the new entries created after the new server is created. This is again because when you create a new server you add a lastSync field based on the current time, and currently when you click the sync button it will only sync after this point in time. You can manually change the time of this field in the server entry to one day earlier, and it will sync the content you added today. In the future we will add a smarter way of syncing so that this field is no longer needed and you won't encounter this problem.\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/scan-qr-widget-style.css\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/scan-qr-widget-style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\",\"text\":\"#scan-qr-widget-loadingMessage{text-align:center;padding:40px;background-color:#eee}#scan-qr-widget-canvas{width:100%}#scan-qr-widget-output{margin-top:20px;background:#eee;padding:10px 10px 0}#scan-qr-widget-output div{padding-bottom:10px;word-wrap:break-word}#scan-qr-widget-noQRFound{text-align:center}\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/AddNewToServerList\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/AddNewToServerList\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div>\\n  {{$:/plugins/linonetwo/tw-mobile-sync/ui/DownloadFullHtml}}\\n</div>\\n\\n<div class=\\\"tw-mobile-sync-new-server-field-fields-container-outer1\\\">\\n  <div class=\\\"tw-mobile-sync-new-server-field-fields-container-outer2\\\">\\n    <fieldset>\\n      <legend>智能识别黏贴框 Smart Identify Sticky Box</legend>\\n\\n      <div class=\\\"tw-mobile-sync-new-server-field-fields-container\\\">\\n        <$edit-text tiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" field=\\\"text\\\" default=\\\"\\\"/>\\n\\n        <div class=\\\"tw-mobile-sync-new-server-field-fields-buttons\\\">\\n          <$button>\\n            智能识别 Smart Identify\\n            <$action-sendmessage $message=\\\"tw-mobile-sync-smart-recognize-ip-address\\\" from=\\\"$:/state/tw-mobile-sync/server/new\\\"/>\\n          </$button>\\n\\n          <$reveal type=\\\"nomatch\\\" state=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n            <$button>\\n              扫二维码 Scan QR\\n              <$action-setfield $tiddler=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\" />\\n            </$button>\\n          </$reveal>\\n          <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n            <$button>\\n              停止扫码 Stop Scan\\n              <$action-setfield $tiddler=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" text=\\\"no\\\" />\\n            </$button>\\n          </$reveal>\\n        </div>\\n      </div>\\n\\n      <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n        <$ScanQRWidget outputTiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" stopOnDetect=\\\"yes\\\" stateTiddler=\\\"$:/state/tw-mobile-sync/server/new/scan-qr-widget-open\\\" />\\n      </$reveal>\\n\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器名 Server Name</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" field=\\\"name\\\" default=\\\"\\\" />\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器 IP Server IP</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" field=\\\"ipAddress\\\" default=\\\"\\\" />\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器端口 Server Port</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" field=\\\"port\\\" default=\\\"\\\" />\\n    </fieldset>\\n  </div>\\n  <$button style=\\\"width: 160px; margin-top: 10px;\\\">\\n    <div>新增服务器</div>\\n    <div>Add New</div>\\n    <$set name=\\\"existedServers\\\" filter={{$:/plugins/linonetwo/tw-mobile-sync/ServerListFilter}} >\\n      <$set name=\\\"latestLastSync\\\" filter=\\\"[<existedServers>sort[lastSync]limit[1]get[lastSync]]\\\" emptyValue=<<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">> >\\n        <$action-createtiddler\\n          $basetitle={{{ [<now \\\"YYYY-MM-DD-0hh0mm0ss\\\">] +[addprefix[$:/state/tw-mobile-sync/server/]] }}}\\n          text=\\\"offline\\\"\\n          name={{$:/state/tw-mobile-sync/server/new!!name}}\\n          caption={{$:/state/tw-mobile-sync/server/new!!name}}\\n          ipAddress={{$:/state/tw-mobile-sync/server/new!!ipAddress}}\\n          port={{$:/state/tw-mobile-sync/server/new!!port}}\\n          lastSync=<<latestLastSync>>\\n        >\\n          <$action-setfield $tiddler=\\\"$:/state/tw-mobile-sync/server/new\\\" text=\\\"\\\" name=\\\"\\\" ipAddress=\\\"\\\" port=\\\"\\\" />\\n          <$action-sendmessage $message=\\\"tw-mobile-sync-set-active-server-and-sync\\\" title=<<createTiddler-title>> />\\n        </$action-createtiddler>\\n      </$set>\\n    </$set>\\n  </$button>\\n</div>\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ControlPanel/Settings\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ControlPanel/Settings\",\"caption\":\"MobileSync\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"These settings let you customise the behaviour of TW-MobileSync plugin.\\n\\n---\\n\\n!! Sync\\n\\n\\n!!! Sync Interval\\n\\nNormally, sync happened in local wiki, so it is free, so you can sync it frequently. This setting takes effect after refresh.\\n\\nMinutes between sync:\\n\\n<$edit-text\\n\\ttiddler=\\\"$:/plugins/linonetwo/tw-mobile-sync/Config/SyncInterval\\\"\\n\\tfield=\\\"text\\\"\\n\\tdefault=\\\"3\\\"\\n\\ttabindex=-1\\n\\tfocus=false\\n\\tcancelPopups=\\\"yes\\\"\\n\\tfileDrop=no\\n\\ttag=\\\"input\\\"\\n/>\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/DownloadFullHtml\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/DownloadFullHtml\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$list filter=\\\"[prefix[$:/state/tw-mobile-sync/server/]field:text[onlineActive]]\\\">\\n<details>\\n  <summary>\\n  拉取并覆盖 Pull and override\\n  </summary>\\n  <fieldset>\\n    <legend>拉取服务端最新完整内容覆盖本地所有内容 Pull the latest complete content from the server to cover all local content</legend>\\n    <div>普通同步没法更新插件和导入的内容，如果你在电脑端更新或安装了插件，则需要在移动端点下面的按钮做一次完整拉取。</div>\\n    <div>If you have updated or installed the plugin on your computer, you will need to do a full pull on the mobile side by clicking the button below.</div>\\n    <div>请慎重点击，本地若有未同步内容将丢失！如果确保本地没有未同步内容，则可以放心拉取。</div>\\n    <div>Please click carefully, local unsynced content will be lost if there is any! If you make sure there is no unsynced content locally, you can pull it without worry.</div>\\n    <$button>\\n      <div>{{!!name}}</div>\\n      <div>拉取内容覆盖本地 Pull content to cover local</div>\\n      <$action-sendmessage $message=\\\"tw-mobile-sync-download-full-html\\\" />\\n    </$button>\\n  </fieldset>\\n</details>\\n</$list>\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemCopyTemplate\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemCopyTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$button class=\\\"tw-mobile-sync-copy-button\\\">\\n  <div>复制</div>\\n  <div>Copy</div>\\n  <$action-createtiddler name={{{ [{!!name}addsuffix[copy]] }}} $template={{!!title}}>\\n    <$action-navigate $to=<<createTiddler-title>>/>\\n  </$action-createtiddler>\\n</$button>\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplate\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{||$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic}}\\n\\n<fieldset class=\\\"tw-mobile-sync-update-last-sync-fieldset\\\">\\n  <legend>更新日期 Last Sync</legend>\\n\\n  只会同步修改日期在这个日期之后的条目。Only tiddlers' modified is after this time are synced.\\n\\n  <$edit-date field=\\\"lastSync\\\" showTime=\\\"yes\\\" showSeconds=\\\"yes\\\" use24hour=\\\"yes\\\" />\\n</fieldset>\\n\\n<!-- allow update server info using scan qr code -->\\n<div class=\\\"tw-mobile-sync-existed-server-field-fields-container\\\">\\n  <$edit-text tiddler=\\\"$:/state/tw-mobile-sync/server/existed/update\\\" default=\\\"\\\" tag=\\\"input\\\" />\\n\\n  <div class=\\\"tw-mobile-sync-existed-server-field-fields-buttons\\\">\\n    <$button>\\n      智能识别 Smart Identify\\n      <$action-sendmessage $message=\\\"tw-mobile-sync-smart-recognize-ip-address\\\" from=\\\"$:/state/tw-mobile-sync/server/existed/update\\\" to={{!!title}} />\\n    </$button>\\n\\n    <$reveal type=\\\"nomatch\\\" state=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n      <$button>\\n        扫二维码 Scan QR\\n        <$action-setfield $tiddler=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\" />\\n      </$button>\\n    </$reveal>\\n    <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n      <$button>\\n        停止扫码 Stop Scan\\n        <$action-setfield $tiddler=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" text=\\\"no\\\" />\\n      </$button>\\n    </$reveal>\\n  </div>\\n</div>\\n\\n<$reveal type=\\\"match\\\" state=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n  <$ScanQRWidget outputTiddler=\\\"$:/state/tw-mobile-sync/server/existed/update\\\" stopOnDetect=\\\"yes\\\" stateTiddler=\\\"$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open\\\" />\\n</$reveal>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-mobile-sync-server-list-item\\\">\\n  <div style=\\\"display: flex; flex-direction: column;\\\">\\n    <h3 style=\\\"margin-top: 0;\\\">\\n      <$link to={{!!title}}>\\n        <$text text={{!!name}}/>\\n      </$link>\\n    </h3>\\n    <div style=\\\"margin-bottom: 5px;\\\">{{!!ipAddress}}:{{!!port}}</div>\\n    <!-- we use text as status field -->\\n    <div>{{!!text}}</div>\\n    <div><$view field=lastSync format=date template=\\\"YYYY-0MM-0DD 0hh:0mm:0ss\\\" /></div>\\n  </div>\\n\\n  <$reveal type=\\\"nomatch\\\" state=<<currentTiddler>> text=\\\"onlineActive\\\" class=\\\"tw-mobile-sync-sync-reveal\\\">\\n    <$button class=\\\"tw-mobile-sync-sync-button\\\">\\n      <div><$text text={{!!name}}/></div>\\n      <div>启用同步并立即同步</div>\\n      <div>Enable and Sync Now</div>\\n      <$action-sendmessage $message=\\\"tw-mobile-sync-set-active-server-and-sync\\\" title={{!!title}} />\\n    </$button>\\n  </$reveal>\\n\\n  <$reveal type=\\\"match\\\" state=<<currentTiddler>> text=\\\"onlineActive\\\" class=\\\"tw-mobile-sync-sync-reveal\\\">\\n    <$button class=\\\"tw-mobile-sync-sync-button\\\">\\n      <div><$text text={{!!name}}/></div>\\n      <div>立即同步</div>\\n      <div>Sync Now</div>\\n      <$action-sendmessage $message=\\\"tw-mobile-sync-sync-start\\\" />\\n    </$button>\\n  </$reveal>\\n\\n</div>\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateCascade\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateCascade\",\"tags\":\"$:/tags/ViewTemplateBodyFilter\",\"list-before\":\"$:/config/ViewTemplateBodyFilters/system\",\"text\":\"[has:field[ipAddress]has:field[port]then[$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplate]]\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-mobile-sync-server-list\\\">\\n  <$list filter={{$:/plugins/linonetwo/tw-mobile-sync/ServerListFilter}}>\\n    <div class=\\\"tw-mobile-sync-server-list-item\\\">\\n      {{||$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic}}\\n      {{||$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemCopyTemplate}}\\n    </div>\\n  </$list>\\n</div>\\n\\n{{$:/plugins/linonetwo/tw-mobile-sync/ui/AddNewToServerList}}\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ServerListFilter\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ServerListFilter\",\"text\":\"[prefix[$:/state/tw-mobile-sync/server/]] -[[$:/state/tw-mobile-sync/server/new]] -[[$:/state/tw-mobile-sync/server/new/scan-qr-widget-open]] -[[$:/state/tw-mobile-sync/server/existed/scan-qr-widget-open]] -[[$:/state/tw-mobile-sync/server/existed/update]]\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopFullHtmlQR\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopFullHtmlQR\",\"caption\":\"Full (Tiddloid)\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-mobile-sync-sidebar-qrcode\\\">\\n  <$let content={{{ [{$:/info/url/full}addsuffix[tw-mobile-sync/get-full-html]] }}} size={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}getSidebarWidthInPx[]] }}} >\\n    <<content>>\\n    <<image>>\\n  </$let>\\n</div>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopSkinnyHtmlQR\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopSkinnyHtmlQR\",\"caption\":\"Skinny (TidGi-Mobile)\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-mobile-sync-sidebar-qrcode\\\">\\n  <$let content={{{ [{$:/info/url/full}addsuffix[tw-mobile-sync/get-skinny-html]] }}} size={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}getSidebarWidthInPx[]] }}} >\\n    <<content>>\\n    <<image>>\\n  </$let>\\n</div>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarDesktopContent\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarDesktopContent\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define image()\\n<img src=<<makeqr text:\\\"\\\"\\\"$(content)$\\\"\\\"\\\" size:\\\"\\\"\\\"$(size)$\\\"\\\"\\\">>/>\\n\\\\end\\n\\nQRCode of Current Server\\n\\n<<tabs \\\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopFullHtmlQR $:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopSkinnyHtmlQR\\\" \\\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopSkinnyHtmlQR\\\" \\\"$:/state/tw-mobile-sync/ui/Sidebar/qr\\\">>\\n\\n\\n<fieldset class=\\\"tw-mobile-sync-sidebar-fieldset tw-mobile-sync-sidebar-desktop\\\">\\n  <legend>已连接客户端</legend>\\n\\n  <$vars compare-put-host-to-end=\\\"[get[Origin]prefix[http]else[1]]\\\" compare-put-active-to-start=\\\"[get[state]prefix[onlineActive]else[1]]\\\">\\n    <$list filter=\\\"[prefix[$:/state/tw-mobile-sync/clientStatus/]sortsub:number<compare-put-active-to-start>sortsub:number<compare-put-host-to-end>]\\\">\\n      <div class=\\\"tw-mobile-sync-sidebar-desktop-server-item\\\">\\n        <h2><$text text={{!!name}} /></h2>\\n        <h3>{{!!state}}</h3>\\n        <span>{{!!os}}</span>\\n        <pre>{{!!recentlySyncedString}}</pre>\\n      </div>\\n    </$list>\\n  </$vars>\\n</fieldset>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarMobileContent\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarMobileContent\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<fieldset class=\\\"tw-mobile-sync-sidebar-fieldset\\\">\\n  <legend>与桌面端同步 Sync With Desktop</legend>\\n\\n  <div class=\\\"tw-mobile-sync-server-list-item\\\">\\n    {{{[prefix[$:/state/tw-mobile-sync/server/]field:text[onlineActive]] ~[prefix[$:/state/tw-mobile-sync/server/]field:text[online]first[]]||$:/plugins/linonetwo/tw-mobile-sync/ui/ServerItemViewTemplateBasic}}}\\n  </div>\\n\\n  [[服务器列表|$:/plugins/linonetwo/tw-mobile-sync/ui/ServerList]]\\n\\n</fieldset>\\n\\n{{$:/plugins/linonetwo/tw-mobile-sync/ui/AddNewToServerList}}\\n\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarTab\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarTab\",\"tags\":\"$:/tags/SideBar\",\"caption\":\"MobileSync\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- only display Sync With Desktop tab in Tiddloid, which will use content scheme to load -->\\n<!-- <$reveal type=\\\"nomatch\\\" state=\\\"$:/info/url/protocol\\\" text=\\\"content:\\\"> -->\\n<!-- use css to hide and display, so it is easier to test on desktop -->\\n<div class=\\\"tw-mobile-sync-sidebar-mobile-content\\\">\\n  {{$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarMobileContent}}\\n</div>\\n<div class=\\\"tw-mobile-sync-sidebar-desktop-content\\\">\\n  {{$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/SidebarDesktopContent}}\\n</div>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/style.css\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$importvariables filter=\\\"[[$:/themes/tiddlywiki/vanilla/base]]\\\">\\n\\n.tw-mobile-sync-sidebar-mobile-content, .tw-mobile-sync-sidebar-desktop-content {\\n  width: 100%;\\ndisplay: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n}\\n\\n@media (min-width: <<sidebarbreakpoint>>) {\\n  .tw-mobile-sync-sidebar-mobile-content {\\n    display: none;\\n  }\\n}\\n\\n@media (max-width: <<sidebarbreakpoint>>) {\\n  .tw-mobile-sync-sidebar-desktop-content {\\n    display: none;\\n  }\\n}\\n\\n</$importvariables>\"},\"$:/plugins/linonetwo/tw-mobile-sync/ui/style.css\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/ui/style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$importvariables filter=\\\"[[$:/themes/tiddlywiki/vanilla/base]]\\\">\\n\\n.tw-mobile-sync-server-list {\\n  padding-left: 0;\\n  overflow: auto;\\n  overflow: overlay;\\n}\\n\\n.tw-mobile-sync-sync-button {\\n  width: 100%; height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  max-width: 300px;\\n  min-width: 175px;\\n}\\n.tw-mobile-sync-copy-button {\\n  height: 100%;\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  margin-left: 10px !important;\\n}\\n\\n.tw-mobile-sync-sync-reveal {\\n  margin-left: 20px;\\n}\\n\\n.tw-mobile-sync-new-server-field-fields-container-outer2 textarea,\\n.tw-mobile-sync-new-server-field-fields-container-outer2 input {\\n  width: 100%;\\n}\\n.tw-mobile-sync-new-server-field-fields-container-outer2 {\\n  display: flex; flex-direction: column;\\n}\\n.tw-mobile-sync-new-server-field-fields-container {\\n  display: flex; flex-direction: row; justify-content: center; align-items: center;\\n}\\n.tw-mobile-sync-new-server-field-fields-container-outer1 {\\n  display: flex; flex-direction: row;\\n}\\n@media (max-width: 535px) {\\n  .tw-mobile-sync-new-server-field-fields-container-outer1 {\\n    flex-direction: column;\\n  }\\n}\\n.tw-mobile-sync-new-server-field-fields-buttons {\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n}\\n@media (max-width: 535px) {\\n  .tw-mobile-sync-new-server-field-fields-container {\\n    flex-direction: column;\\n  }\\n  .tw-mobile-sync-new-server-field-fields-buttons {\\n    width: 100%;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    margin-top: 10px;\\n  }\\n}\\n\\n.tw-mobile-sync-existed-server-field-fields-container {\\n  display: flex; flex-direction: row;\\n}\\n.tw-mobile-sync-existed-server-field-fields-buttons {\\n  display: flex; flex-direction: row; justify-content: space-between;\\n}\\n\\n\\n.tw-mobile-sync-sidebar-fieldset {\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  width: 100%;\\n\\n  margin-bottom: 10px;\\n}\\n\\n.tw-mobile-sync-sidebar-desktop-server-item {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  margin-bottom: 20px;\\n}\\n.tw-mobile-sync-sidebar-desktop-server-item h3, .tw-mobile-sync-sidebar-desktop-server-item h5 {\\n  margin: 0;\\n}\\n.tw-mobile-sync-sidebar-desktop-server-item h5 {\\n  font-weight: 700;\\n}\\n.tw-mobile-sync-sidebar-desktop-server-item p:last-child {\\n  margin-bottom: 15px;\\n}\\n\\n.tw-mobile-sync-server-list-item {\\n  display: flex; flex-direction: row; align-items: center;\\n  justify-content: space-between;\\n}\\n@media (max-width: 535px) {\\n  .tw-mobile-sync-server-list-item {\\n    flex-direction: column;\\n  }\\n}\\n\\n.tw-mobile-sync-sidebar-qrcode {\\n  width: auto;\\n  height: auto;\\n}\\n.tw-mobile-sync-sidebar-qrcode img {\\n  width: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 2em);\\n  height: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 2em);\\n}\\n\\n</$importvariables>\"},\"$:/plugins/linonetwo/tw-mobile-sync/browser-background-sync.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/browser-background-sync.js\",\"type\":\"application/javascript\",\"module-type\":\"startup\",\"Modern.TiddlyDev#Origin\":\"browser-background-sync.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,r,o,i)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(t,e)||e===o||__defProp(t,e,{get:()=>r[e],enumerable:!(i=__getOwnPropDesc(r,e))||i.enumerable});return t},__toESM=(e,t,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),__accessCheck=(e,t,r)=>{if(!t.has(e))throw TypeError(\\\"Cannot \\\"+r)},__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError(\\\"Cannot add the same private member more than once\\\");t instanceof WeakSet?t.add(e):t.set(e,r)},__privateMethod=(e,t,r)=>(__accessCheck(e,t,\\\"access private method\\\"),r),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.4.28_ts-node@10.9.1/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var r=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=r}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var r=require_freeGlobal(),o=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,r=r||o||Function(\\\"return this\\\")();t.exports=r}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var r=require_root().Symbol;t.exports=r}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,_=r?r.toStringTag:void 0;t.exports=function(e){var t=s.call(e,_),r=e[_];try{var o=!(e[_]=void 0)}catch(n){}var i=a.call(e);return o&&(t?e[_]=r:delete e[_]),i}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=require_getRawTag(),i=require_objectToString(),n=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(n&&n in Object(e)?o:i)(e)}}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_isFunction=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObject();t.exports=function(e){var t;return!!o(e)&&(\\\"[object Function]\\\"==(t=r(e))||\\\"[object GeneratorFunction]\\\"==t||\\\"[object AsyncFunction]\\\"==t||\\\"[object Proxy]\\\"==t)}}}),require_coreJsData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js\\\"(e,t){init_esbuild_inject();var r=require_root()[\\\"__core-js_shared__\\\"];t.exports=r}}),require_isMasked=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js\\\"(e,t){init_esbuild_inject();var r=require_coreJsData(),o=(r=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||\\\"\\\"))?\\\"Symbol(src)_1.\\\"+r:\\\"\\\";t.exports=function(e){return!!o&&o in e}}}),require_toSource=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js\\\"(e,t){init_esbuild_inject();var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}}}),require_baseIsNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js\\\"(e,t){init_esbuild_inject();var r=require_isFunction(),o=require_isMasked(),i=require_isObject(),n=require_toSource(),s=/^\\\\[object .+?Constructor\\\\]$/,a=Function.prototype,_=Object.prototype,a=a.toString,_=_.hasOwnProperty,u=RegExp(\\\"^\\\"+a.call(_).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\");t.exports=function(e){return!(!i(e)||o(e))&&(r(e)?u:s).test(n(e))}}}),require_getValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null==e?void 0:e[t]}}}),require_getNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsNative(),i=require_getValue();t.exports=function(e,t){var r=i(e,t);return o(r)?r:void 0}}}),require_defineProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js\\\"(e,t){init_esbuild_inject();var r=require_getNative(),o=function(){try{var e=r(Object,\\\"defineProperty\\\");return e({},\\\"\\\",{}),e}catch(t){}}();t.exports=o}}),require_baseAssignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js\\\"(e,t){init_esbuild_inject();var o=require_defineProperty();t.exports=function(e,t,r){\\\"__proto__\\\"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}}}),require_createBaseFor=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseFor.js\\\"(e,t){init_esbuild_inject(),t.exports=function(_){return function(e,t,r){for(var o=-1,i=Object(e),n=r(e),s=n.length;s--;){var a=n[_?s:++o];if(!1===t(i[a],a,i))break}return e}}}}),require_baseFor=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFor.js\\\"(e,t){init_esbuild_inject();var r=require_createBaseFor()();t.exports=r}}),require_baseTimes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_baseIsArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Arguments]\\\"==r(e)}}}),require_isArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsArguments(),o=require_isObjectLike(),i=Object.prototype,n=i.hasOwnProperty,s=i.propertyIsEnumerable,i=r(function(){return arguments}())?r:function(e){return o(e)&&n.call(e,\\\"callee\\\")&&!s.call(e,\\\"callee\\\")};t.exports=i}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,t){init_esbuild_inject();var r=Array.isArray;t.exports=r}}),require_stubFalse=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return!1}}}),require_isBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_root(),o=require_stubFalse(),i=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,n=i&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,n=n&&n.exports===i?r.Buffer:void 0,i=n?n.isBuffer:void 0;t.exports=i||o}}),require_isIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js\\\"(e,t){init_esbuild_inject();var o=/^(?:0|[1-9]\\\\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&(\\\"number\\\"==r||\\\"symbol\\\"!=r&&o.test(e))&&-1<e&&e%1==0&&e<t}}}),require_isLength=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return\\\"number\\\"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}}}),require_baseIsTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isLength(),i=require_isObjectLike(),n={};n[\\\"[object Float32Array]\\\"]=n[\\\"[object Float64Array]\\\"]=n[\\\"[object Int8Array]\\\"]=n[\\\"[object Int16Array]\\\"]=n[\\\"[object Int32Array]\\\"]=n[\\\"[object Uint8Array]\\\"]=n[\\\"[object Uint8ClampedArray]\\\"]=n[\\\"[object Uint16Array]\\\"]=n[\\\"[object Uint32Array]\\\"]=!0,n[\\\"[object Arguments]\\\"]=n[\\\"[object Array]\\\"]=n[\\\"[object ArrayBuffer]\\\"]=n[\\\"[object Boolean]\\\"]=n[\\\"[object DataView]\\\"]=n[\\\"[object Date]\\\"]=n[\\\"[object Error]\\\"]=n[\\\"[object Function]\\\"]=n[\\\"[object Map]\\\"]=n[\\\"[object Number]\\\"]=n[\\\"[object Object]\\\"]=n[\\\"[object RegExp]\\\"]=n[\\\"[object Set]\\\"]=n[\\\"[object String]\\\"]=n[\\\"[object WeakMap]\\\"]=!1,t.exports=function(e){return i(e)&&o(e.length)&&!!n[r(e)]}}}),require_baseUnary=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return t(e)}}}}),require_nodeUtil=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js\\\"(e,t){init_esbuild_inject();var r=require_freeGlobal(),o=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=o&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,n=i&&i.exports===o&&r.process,o=function(){try{var e=i&&i.require&&i.require(\\\"util\\\").types;return e?e:n&&n.binding&&n.binding(\\\"util\\\")}catch(t){}}();t.exports=o}}),require_isTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsTypedArray(),o=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isTypedArray,i=i?o(i):r;t.exports=i}}),require_arrayLikeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js\\\"(e,t){init_esbuild_inject();var l=require_baseTimes(),d=require_isArguments(),c=require_isArray(),m=require_isBuffer(),p=require_isIndex(),h=require_isTypedArray(),b=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r,o=c(e),i=!o&&d(e),n=!o&&!i&&m(e),s=!o&&!i&&!n&&h(e),a=o||i||n||s,_=a?l(e.length,String):[],u=_.length;for(r in e)!t&&!b.call(e,r)||a&&(\\\"length\\\"==r||n&&(\\\"offset\\\"==r||\\\"parent\\\"==r)||s&&(\\\"buffer\\\"==r||\\\"byteLength\\\"==r||\\\"byteOffset\\\"==r)||p(r,u))||_.push(r);return _}}}),require_isPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===(\\\"function\\\"==typeof t&&t.prototype||r)}}}),require_overArg=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,r){return function(e){return t(r(e))}}}}),require_nativeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js\\\"(e,t){init_esbuild_inject();var r=require_overArg()(Object.keys,Object);t.exports=r}}),require_baseKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js\\\"(e,t){init_esbuild_inject();var o=require_isPrototype(),i=require_nativeKeys(),n=Object.prototype.hasOwnProperty;t.exports=function(e){if(!o(e))return i(e);var t,r=[];for(t in Object(e))n.call(e,t)&&\\\"constructor\\\"!=t&&r.push(t);return r}}}),require_isArrayLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js\\\"(e,t){init_esbuild_inject();var r=require_isFunction(),o=require_isLength();t.exports=function(e){return null!=e&&o(e.length)&&!r(e)}}}),require_keys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js\\\"(e,t){init_esbuild_inject();var r=require_arrayLikeKeys(),o=require_baseKeys(),i=require_isArrayLike();t.exports=function(e){return(i(e)?r:o)(e)}}}),require_baseForOwn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseForOwn.js\\\"(e,t){init_esbuild_inject();var r=require_baseFor(),o=require_keys();t.exports=function(e,t){return e&&r(e,t,o)}}}),require_listCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){this.__data__=[],this.size=0}}}),require_eq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),require_assocIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js\\\"(e,t){init_esbuild_inject();var o=require_eq();t.exports=function(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}}}),require_listCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js\\\"(e,t){init_esbuild_inject();var o=require_assocIndexOf(),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,r=o(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}}}),require_listCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js\\\"(e,t){init_esbuild_inject();var o=require_assocIndexOf();t.exports=function(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}}}),require_listCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf();t.exports=function(e){return-1<r(this.__data__,e)}}}),require_listCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_assocIndexOf();t.exports=function(e,t){var r=this.__data__,o=i(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}}}),require_ListCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js\\\"(e,t){init_esbuild_inject();var r=require_listCacheClear(),o=require_listCacheDelete(),i=require_listCacheGet(),n=require_listCacheHas(),s=require_listCacheSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=i,a.prototype.has=n,a.prototype.set=s,t.exports=a}}),require_stackClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js\\\"(e,t){init_esbuild_inject();var r=require_ListCache();t.exports=function(){this.__data__=new r,this.size=0}}}),require_stackDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.__data__,r=t[\\\"delete\\\"](e);return this.size=t.size,r}}}),require_stackGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.get(e)}}}),require_stackHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_Map=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Map\\\");t.exports=r}}),require_nativeCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(Object,\\\"create\\\");t.exports=r}}),require_hashClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate();t.exports=function(){this.__data__=r?r(null):{},this.size=0}}}),require_hashDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}}),require_hashGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js\\\"(e,t){init_esbuild_inject();var o=require_nativeCreate(),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t,r=this.__data__;return o?\\\"__lodash_hash_undefined__\\\"===(t=r[e])?void 0:t:i.call(r,e)?r[e]:void 0}}}),require_hashHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate(),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}}}),require_hashSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js\\\"(e,t){init_esbuild_inject();var o=require_nativeCreate();t.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?\\\"__lodash_hash_undefined__\\\":t,this}}}),require_Hash=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js\\\"(e,t){init_esbuild_inject();var r=require_hashClear(),o=require_hashDelete(),i=require_hashGet(),n=require_hashHas(),s=require_hashSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=i,a.prototype.has=n,a.prototype.set=s,t.exports=a}}),require_mapCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js\\\"(e,t){init_esbuild_inject();var r=require_Hash(),o=require_ListCache(),i=require_Map();t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}}}),require_isKeyable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}}}),require_getMapData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js\\\"(e,t){init_esbuild_inject();var o=require_isKeyable();t.exports=function(e,t){var r=e.__data__;return o(t)?r[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:r.map}}}),require_mapCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){var t=r(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}}}),require_mapCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){return r(this,e).get(e)}}}),require_mapCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){return r(this,e).has(e)}}}),require_mapCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e,t){var r=i(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}}}),require_MapCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js\\\"(e,t){init_esbuild_inject();var r=require_mapCacheClear(),o=require_mapCacheDelete(),i=require_mapCacheGet(),n=require_mapCacheHas(),s=require_mapCacheSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=i,a.prototype.has=n,a.prototype.set=s,t.exports=a}}),require_stackSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js\\\"(e,t){init_esbuild_inject();var i=require_ListCache(),n=require_Map(),s=require_MapCache();t.exports=function(e,t){var r=this.__data__;if(r instanceof i){var o=r.__data__;if(!n||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(e,t),this.size=r.size,this}}}),require_Stack=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js\\\"(e,t){init_esbuild_inject();var r=require_ListCache(),o=require_stackClear(),i=require_stackDelete(),n=require_stackGet(),s=require_stackHas(),a=require_stackSet();function _(e){var t=this.__data__=new r(e);this.size=t.size}_.prototype.clear=o,_.prototype[\\\"delete\\\"]=i,_.prototype.get=n,_.prototype.has=s,_.prototype.set=a,t.exports=_}}),require_setCacheAdd=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return this.__data__.set(e,\\\"__lodash_hash_undefined__\\\"),this}}}),require_setCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_SetCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js\\\"(e,t){init_esbuild_inject();var o=require_MapCache(),r=require_setCacheAdd(),i=require_setCacheHas();function n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o;++t<r;)this.add(e[t])}n.prototype.add=n.prototype.push=r,n.prototype.has=i,t.exports=n}}),require_arraySome=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}}}),require_cacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e.has(t)}}}),require_equalArrays=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js\\\"(e,t){init_esbuild_inject();var b=require_SetCache(),f=require_arraySome(),y=require_cacheHas();t.exports=function(e,t,r,o,i,n){var s=1&r,a=e.length,_=t.length;if(a!=_&&!(s&&a<_))return!1;var _=n.get(e),u=n.get(t);if(_&&u)return _==t&&u==e;var l=-1,d=!0,c=2&r?new b:void 0;for(n.set(e,t),n.set(t,e);++l<a;){var m,p=e[l],h=t[l];if(void 0!==(m=o?s?o(h,p,l,t,e,n):o(p,h,l,e,t,n):m)){if(m)continue;d=!1;break}if(c){if(!f(t,function(e,t){if(!y(c,t)&&(p===e||i(p,e,r,o,n)))return c.push(t)})){d=!1;break}}else if(p!==h&&!i(p,h,r,o,n)){d=!1;break}}return n[\\\"delete\\\"](e),n[\\\"delete\\\"](t),d}}}),require_Uint8Array=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js\\\"(e,t){init_esbuild_inject();var r=require_root().Uint8Array;t.exports=r}}),require_mapToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var r=-1,o=Array(e.size);return e.forEach(function(e,t){o[++r]=[t,e]}),o}}}),require_setToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}}),require_equalByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),u=require_Uint8Array(),l=require_eq(),d=require_equalArrays(),c=require_mapToArray(),m=require_setToArray(),r=r?r.prototype:void 0,p=r?r.valueOf:void 0;t.exports=function(e,t,r,o,i,n,s){switch(r){case\\\"[object DataView]\\\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\\\"[object ArrayBuffer]\\\":return e.byteLength==t.byteLength&&n(new u(e),new u(t))?!0:!1;case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":case\\\"[object Number]\\\":return l(+e,+t);case\\\"[object Error]\\\":return e.name==t.name&&e.message==t.message;case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return e==t+\\\"\\\";case\\\"[object Map]\\\":var a=c;case\\\"[object Set]\\\":a=a||m;if(e.size!=t.size&&!(1&o))return!1;var _=s.get(e);if(_)return _==t;o|=2,s.set(e,t);_=d(a(e),a(t),o,i,n,s);return s[\\\"delete\\\"](e),_;case\\\"[object Symbol]\\\":if(p)return p.call(e)==p.call(t)}return!1}}}),require_arrayPush=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e}}}),require_baseGetAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js\\\"(e,t){init_esbuild_inject();var i=require_arrayPush(),n=require_isArray();t.exports=function(e,t,r){var o=t(e);return n(e)?o:i(o,r(e))}}}),require_arrayFilter=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,i=0,n=[];++r<o;){var s=e[r];t(s,r,e)&&(n[i++]=s)}return n}}}),require_stubArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return[]}}}),require_getSymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js\\\"(e,t){init_esbuild_inject();var r=require_arrayFilter(),o=require_stubArray(),i=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;t.exports=n?function(t){return null==t?[]:(t=Object(t),r(n(t),function(e){return i.call(t,e)}))}:o}}),require_getAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetAllKeys(),o=require_getSymbols(),i=require_keys();t.exports=function(e){return r(e,i,o)}}}),require_equalObjects=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js\\\"(e,t){init_esbuild_inject();var y=require_getAllKeys(),j=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,i,n){var s=1&r,a=y(e),_=a.length;if(_!=y(t).length&&!s)return!1;for(var u=_;u--;){var l=a[u];if(!(s?l in t:j.call(t,l)))return!1}var d=n.get(e),c=n.get(t);if(d&&c)return d==t&&c==e;for(var m=!0,p=(n.set(e,t),n.set(t,e),s);++u<_;){var h,b=e[l=a[u]],f=t[l];if(!(void 0===(h=o?s?o(f,b,l,t,e,n):o(b,f,l,e,t,n):h)?b===f||i(b,f,r,o,n):h)){m=!1;break}p=p||\\\"constructor\\\"==l}return m&&!p&&(d=e.constructor)!=(c=t.constructor)&&\\\"constructor\\\"in e&&\\\"constructor\\\"in t&&!(\\\"function\\\"==typeof d&&d instanceof d&&\\\"function\\\"==typeof c&&c instanceof c)&&(m=!1),n[\\\"delete\\\"](e),n[\\\"delete\\\"](t),m}}}),require_DataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"DataView\\\");t.exports=r}}),require_Promise=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Promise\\\");t.exports=r}}),require_Set=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Set\\\");t.exports=r}}),require_WeakMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"WeakMap\\\");t.exports=r}}),require_getTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js\\\"(e,t){init_esbuild_inject();var r=require_DataView(),o=require_Map(),i=require_Promise(),n=require_Set(),s=require_WeakMap(),a=require_baseGetTag(),_=require_toSource(),u=\\\"[object Map]\\\",l=\\\"[object Promise]\\\",d=\\\"[object Set]\\\",c=\\\"[object WeakMap]\\\",m=\\\"[object DataView]\\\",p=_(r),h=_(o),b=_(i),f=_(n),y=_(s),j=a;(r&&j(new r(new ArrayBuffer(1)))!=m||o&&j(new o)!=u||i&&j(i.resolve())!=l||n&&j(new n)!=d||s&&j(new s)!=c)&&(j=function(e){var t=a(e),r=\\\"[object Object]\\\"==t?e.constructor:void 0,r=r?_(r):\\\"\\\";if(r)switch(r){case p:return m;case h:return u;case b:return l;case f:return d;case y:return c}return t}),t.exports=j}}),require_baseIsEqualDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js\\\"(e,t){init_esbuild_inject();var d=require_Stack(),c=require_equalArrays(),m=require_equalByTag(),p=require_equalObjects(),h=require_getTag(),b=require_isArray(),f=require_isBuffer(),y=require_isTypedArray(),j=\\\"[object Arguments]\\\",q=\\\"[object Array]\\\",v=\\\"[object Object]\\\",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,i,n){var s=b(e),a=b(t),_=s?q:h(e),a=a?q:h(t),u=(_=_==j?v:_)==v,l=(a=a==j?v:a)==v;if((a=_==a)&&f(e)){if(!f(t))return!1;u=!(s=!0)}if(a&&!u)return n=n||new d,s||y(e)?c(e,t,r,o,i,n):m(e,t,_,r,o,i,n);if(!(1&r)){s=u&&S.call(e,\\\"__wrapped__\\\"),_=l&&S.call(t,\\\"__wrapped__\\\");if(s||_)return i(s?e.value():e,_?t.value():t,r,o,n=n||new d)}return a&&(n=n||new d,p(e,t,r,o,i,n))}}}),require_baseIsEqual=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsEqualDeep(),s=require_isObjectLike();t.exports=function a(e,t,r,o,i){return e===t||(null==e||null==t||!s(e)&&!s(t)?e!=e&&t!=t:n(e,t,r,o,a,i))}}}),require_baseIsMatch=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMatch.js\\\"(e,t){init_esbuild_inject();var m=require_Stack(),p=require_baseIsEqual();t.exports=function(e,t,r,o){var i=r.length,n=i,s=!o;if(null==e)return!n;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<n;){var _=(a=r[i])[0],u=e[_],l=a[1];if(s&&a[2]){if(void 0===u&&!(_ in e))return!1}else{var d,c=new m;if(!(void 0===(d=o?o(u,l,_,e,t,c):d)?p(l,u,3,o,c):d))return!1}}return!0}}}),require_isStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isStrictComparable.js\\\"(e,t){init_esbuild_inject();var r=require_isObject();t.exports=function(e){return e==e&&!r(e)}}}),require_getMatchData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMatchData.js\\\"(e,t){init_esbuild_inject();var n=require_isStrictComparable(),s=require_keys();t.exports=function(e){for(var t=s(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,n(i)]}return t}}}),require_matchesStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_matchesStrictComparable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,r){return function(e){return null!=e&&e[t]===r&&(void 0!==r||t in Object(e))}}}}),require_baseMatches=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatches.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsMatch(),i=require_getMatchData(),n=require_matchesStrictComparable();t.exports=function(t){var r=i(t);return 1==r.length&&r[0][2]?n(r[0][0],r[0][1]):function(e){return e===t||o(e,t,r)}}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||o(e)&&\\\"[object Symbol]\\\"==r(e)}}}),require_isKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKey.js\\\"(e,t){init_esbuild_inject();var o=require_isArray(),i=require_isSymbol(),n=/\\\\.|\\\\[(?:[^[\\\\]]*|([\\\"'])(?:(?!\\\\1)[^\\\\\\\\]|\\\\\\\\.)*?\\\\1)\\\\]/,s=/^\\\\w*$/;t.exports=function(e,t){var r;return!o(e)&&(!(\\\"number\\\"!=(r=typeof e)&&\\\"symbol\\\"!=r&&\\\"boolean\\\"!=r&&null!=e&&!i(e))||s.test(e)||!n.test(e)||null!=t&&e in Object(t))}}}),require_memoize=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/memoize.js\\\"(e,t){init_esbuild_inject();var r=require_MapCache();function s(o,i){if(\\\"function\\\"!=typeof o||null!=i&&\\\"function\\\"!=typeof i)throw new TypeError(\\\"Expected a function\\\");var n=function(){var e=arguments,t=i?i.apply(this,e):e[0],r=n.cache;return r.has(t)?r.get(t):(e=o.apply(this,e),n.cache=r.set(t,e)||r,e)};return n.cache=new(s.Cache||r),n}s.Cache=r,t.exports=s}}),require_memoizeCapped=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_memoizeCapped.js\\\"(e,t){init_esbuild_inject();var o=require_memoize();t.exports=function(e){var t=o(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}}}),require_stringToPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToPath.js\\\"(e,t){init_esbuild_inject();var r=require_memoizeCapped(),o=/[^.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))/g,n=/\\\\\\\\(\\\\\\\\)?/g,r=r(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(\\\"\\\"),e.replace(o,function(e,t,r,o){i.push(r?o.replace(n,\\\"$1\\\"):t||e)}),i});t.exports=r}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=require_arrayMap(),i=require_isArray(),n=require_isSymbol(),r=r?r.prototype:void 0,s=r?r.toString:void 0;t.exports=function a(e){var t;return\\\"string\\\"==typeof e?e:i(e)?o(e,a)+\\\"\\\":n(e)?s?s.call(e):\\\"\\\":\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,t){init_esbuild_inject();var r=require_baseToString();t.exports=function(e){return null==e?\\\"\\\":r(e)}}}),require_castPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castPath.js\\\"(e,t){init_esbuild_inject();var r=require_isArray(),o=require_isKey(),i=require_stringToPath(),n=require_toString();t.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(n(e))}}}),require_toKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toKey.js\\\"(e,t){init_esbuild_inject();var r=require_isSymbol();t.exports=function(e){var t;return\\\"string\\\"==typeof e||r(e)?e:\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_baseGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGet.js\\\"(e,t){init_esbuild_inject();var i=require_castPath(),n=require_toKey();t.exports=function(e,t){for(var r=0,o=(t=i(t,e)).length;null!=e&&r<o;)e=e[n(t[r++])];return r&&r==o?e:void 0}}}),require_get=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js\\\"(e,t){init_esbuild_inject();var i=require_baseGet();t.exports=function(e,t,r){var o=null==e?void 0:i(e,t);return void 0===o?r:o}}}),require_baseHasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHasIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null!=e&&t in Object(e)}}}),require_hasPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasPath.js\\\"(e,t){init_esbuild_inject();var a=require_castPath(),_=require_isArguments(),u=require_isArray(),l=require_isIndex(),d=require_isLength(),c=require_toKey();t.exports=function(e,t,r){for(var o=-1,i=(t=a(t,e)).length,n=!1;++o<i;){var s=c(t[o]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}return n||++o!=i?n:!!(i=null==e?0:e.length)&&d(i)&&l(s,i)&&(u(e)||_(e))}}}),require_hasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/hasIn.js\\\"(e,t){init_esbuild_inject();var r=require_baseHasIn(),o=require_hasPath();t.exports=function(e,t){return null!=e&&o(e,t,r)}}}),require_baseMatchesProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatchesProperty.js\\\"(e,t){init_esbuild_inject();var i=require_baseIsEqual(),n=require_get(),s=require_hasIn(),a=require_isKey(),_=require_isStrictComparable(),u=require_matchesStrictComparable(),l=require_toKey();t.exports=function(r,o){return a(r)&&_(o)?u(l(r),o):function(e){var t=n(e,r);return void 0===t&&t===o?s(e,r):i(o,t,3)}}}}),require_identity=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e}}}),require_baseProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseProperty.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return null==e?void 0:e[t]}}}}),require_basePropertyDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePropertyDeep.js\\\"(e,t){init_esbuild_inject();var r=require_baseGet();t.exports=function(t){return function(e){return r(e,t)}}}}),require_property=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/property.js\\\"(e,t){init_esbuild_inject();var r=require_baseProperty(),o=require_basePropertyDeep(),i=require_isKey(),n=require_toKey();t.exports=function(e){return i(e)?r(n(e)):o(e)}}}),require_baseIteratee=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIteratee.js\\\"(e,t){init_esbuild_inject();var r=require_baseMatches(),o=require_baseMatchesProperty(),i=require_identity(),n=require_isArray(),s=require_property();t.exports=function(e){return\\\"function\\\"==typeof e?e:null==e?i:\\\"object\\\"==typeof e?n(e)?o(e[0],e[1]):r(e):s(e)}}}),require_mapValues=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/mapValues.js\\\"(e,t){init_esbuild_inject();var n=require_baseAssignValue(),r=require_baseForOwn(),s=require_baseIteratee();t.exports=function(e,o){var i={};return o=s(o,3),r(e,function(e,t,r){n(i,t,o(e,t,r))}),i}}}),require_arrayEach=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEach.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e}}}),require_assignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js\\\"(e,t){init_esbuild_inject();var i=require_baseAssignValue(),n=require_eq(),s=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var o=e[t];s.call(e,t)&&n(o,r)&&(void 0!==r||t in e)||i(e,t,r)}}}),require_copyObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js\\\"(e,t){init_esbuild_inject();var u=require_assignValue(),l=require_baseAssignValue();t.exports=function(e,t,r,o){for(var i=!r,n=(r=r||{},-1),s=t.length;++n<s;){var a=t[n],_=o?o(r[a],e[a],a,r,e):void 0;void 0===_&&(_=e[a]),(i?l:u)(r,a,_)}return r}}}),require_baseAssign=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssign.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_keys();t.exports=function(e,t){return e&&r(t,o(t),e)}}}),require_nativeKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}}}),require_baseKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js\\\"(e,t){init_esbuild_inject();var i=require_isObject(),n=require_isPrototype(),s=require_nativeKeysIn(),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return s(e);var t,r=n(e),o=[];for(t in e)(\\\"constructor\\\"!=t||!r&&a.call(e,t))&&o.push(t);return o}}}),require_keysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js\\\"(e,t){init_esbuild_inject();var r=require_arrayLikeKeys(),o=require_baseKeysIn(),i=require_isArrayLike();t.exports=function(e){return i(e)?r(e,!0):o(e)}}}),require_baseAssignIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignIn.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_keysIn();t.exports=function(e,t){return e&&r(t,o(t),e)}}}),require_cloneBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_root(),o=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=o&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,i=i&&i.exports===o?r.Buffer:void 0,n=i?i.allocUnsafe:void 0;t.exports=function(e,t){var r;return t?e.slice():(r=e.length,r=n?n(r):new e.constructor(r),e.copy(r),r)}}}),require_copyArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){var r=-1,o=e.length;for(t=t||Array(o);++r<o;)t[r]=e[r];return t}}}),require_copySymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbols.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_getSymbols();t.exports=function(e,t){return r(e,o(e),t)}}}),require_getPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getPrototype.js\\\"(e,t){init_esbuild_inject();var r=require_overArg()(Object.getPrototypeOf,Object);t.exports=r}}),require_getSymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbolsIn.js\\\"(e,t){init_esbuild_inject();var r=require_arrayPush(),o=require_getPrototype(),i=require_getSymbols(),n=require_stubArray(),s=Object.getOwnPropertySymbols;t.exports=s?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:n}}),require_copySymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbolsIn.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_getSymbolsIn();t.exports=function(e,t){return r(e,o(e),t)}}}),require_getAllKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeysIn.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetAllKeys(),o=require_getSymbolsIn(),i=require_keysIn();t.exports=function(e){return r(e,i,o)}}}),require_initCloneArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneArray.js\\\"(e,t){init_esbuild_inject();var o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&\\\"string\\\"==typeof e[0]&&o.call(e,\\\"index\\\")&&(r.index=e.index,r.input=e.input),r}}}),require_cloneArrayBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneArrayBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_Uint8Array();t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}}),require_cloneDataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneDataView.js\\\"(e,t){init_esbuild_inject();var o=require_cloneArrayBuffer();t.exports=function(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}}}),require_cloneRegExp=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneRegExp.js\\\"(e,t){init_esbuild_inject();var r=/\\\\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}}}),require_cloneSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneSymbol.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),r=r?r.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}}}),require_cloneTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneTypedArray.js\\\"(e,t){init_esbuild_inject();var o=require_cloneArrayBuffer();t.exports=function(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}}}),require_initCloneByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneByTag.js\\\"(e,t){init_esbuild_inject();var i=require_cloneArrayBuffer(),n=require_cloneDataView(),s=require_cloneRegExp(),a=require_cloneSymbol(),_=require_cloneTypedArray();t.exports=function(e,t,r){var o=e.constructor;switch(t){case\\\"[object ArrayBuffer]\\\":return i(e);case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":return new o(+e);case\\\"[object DataView]\\\":return n(e,r);case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return _(e,r);case\\\"[object Map]\\\":return new o;case\\\"[object Number]\\\":case\\\"[object String]\\\":return new o(e);case\\\"[object RegExp]\\\":return s(e);case\\\"[object Set]\\\":return new o;case\\\"[object Symbol]\\\":return a(e)}}}}),require_baseCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseCreate.js\\\"(e,t){init_esbuild_inject();var r=require_isObject(),o=Object.create;function i(){}t.exports=function(e){if(!r(e))return{};if(o)return o(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}}),require_initCloneObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneObject.js\\\"(e,t){init_esbuild_inject();var r=require_baseCreate(),o=require_getPrototype(),i=require_isPrototype();t.exports=function(e){return\\\"function\\\"!=typeof e.constructor||i(e)?{}:r(o(e))}}}),require_baseIsMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMap.js\\\"(e,t){init_esbuild_inject();var r=require_getTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Map]\\\"==r(e)}}}),require_isMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isMap.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsMap(),o=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isMap,i=i?o(i):r;t.exports=i}}),require_baseIsSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsSet.js\\\"(e,t){init_esbuild_inject();var r=require_getTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Set]\\\"==r(e)}}}),require_isSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSet.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsSet(),o=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isSet,i=i?o(i):r;t.exports=i}}),require_baseClone=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClone.js\\\"(e,t){init_esbuild_inject();var p=require_Stack(),h=require_arrayEach(),b=require_assignValue(),f=require_baseAssign(),y=require_baseAssignIn(),j=require_cloneBuffer(),q=require_copyArray(),v=require_copySymbols(),S=require_copySymbolsIn(),g=require_getAllKeys(),x=require_getAllKeysIn(),w=require_getTag(),A=require_initCloneArray(),J=require_initCloneByTag(),T=require_initCloneObject(),O=require_isArray(),k=require_isBuffer(),C=require_isMap(),I=require_isObject(),P=require_isSet(),$=require_keys(),M=require_keysIn(),D=\\\"[object Arguments]\\\",L=\\\"[object Function]\\\",E=\\\"[object Object]\\\",F={};F[D]=F[\\\"[object Array]\\\"]=F[\\\"[object ArrayBuffer]\\\"]=F[\\\"[object DataView]\\\"]=F[\\\"[object Boolean]\\\"]=F[\\\"[object Date]\\\"]=F[\\\"[object Float32Array]\\\"]=F[\\\"[object Float64Array]\\\"]=F[\\\"[object Int8Array]\\\"]=F[\\\"[object Int16Array]\\\"]=F[\\\"[object Int32Array]\\\"]=F[\\\"[object Map]\\\"]=F[\\\"[object Number]\\\"]=F[E]=F[\\\"[object RegExp]\\\"]=F[\\\"[object Set]\\\"]=F[\\\"[object String]\\\"]=F[\\\"[object Symbol]\\\"]=F[\\\"[object Uint8Array]\\\"]=F[\\\"[object Uint8ClampedArray]\\\"]=F[\\\"[object Uint16Array]\\\"]=F[\\\"[object Uint32Array]\\\"]=!0,F[\\\"[object Error]\\\"]=F[L]=F[\\\"[object WeakMap]\\\"]=!1,t.exports=function N(r,o,i,e,t,n){var s,a=1&o,_=2&o,u=4&o;if(void 0===(s=i?t?i(r,e,t,n):i(r):s)){if(!I(r))return r;var l=O(r);if(l){if(s=A(r),!a)return q(r,s)}else{var d=w(r),c=d==L||\\\"[object GeneratorFunction]\\\"==d;if(k(r))return j(r,a);if(d==E||d==D||c&&!t){if(s=_||c?{}:T(r),!a)return _?S(r,y(s,r)):v(r,f(s,r))}else{if(!F[d])return t?r:{};s=J(r,d,a)}}if(c=(n=n||new p).get(r))return c;n.set(r,s),P(r)?r.forEach(function(e){s.add(N(e,o,i,e,r,n))}):C(r)&&r.forEach(function(e,t){s.set(t,N(e,o,i,t,r,n))});var m=l?void 0:(u?_?x:g:_?M:$)(r);h(m||r,function(e,t){m&&(e=r[t=e]),b(s,t,N(e,o,i,t,r,n))})}return s}}}),require_cloneDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/cloneDeep.js\\\"(e,t){init_esbuild_inject();var r=require_baseClone();t.exports=function(e){return r(e,5)}}}),require_baseSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,r){for(var o=-1,i=e.length,n=((r=i<r?i:r)<0&&(r+=i),i=r<(t=t<0?i<-t?0:i+t:t)?0:r-t>>>0,t>>>=0,Array(i));++o<i;)n[o]=e[o+t];return n}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,t){init_esbuild_inject();var r=/\\\\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,t){init_esbuild_inject();var r=require_trimmedEndIndex(),o=/^\\\\s+/;t.exports=function(e){return e&&e.slice(0,r(e)+1).replace(o,\\\"\\\")}}}),require_toNumber=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js\\\"(e,t){init_esbuild_inject();var r=require_baseTrim(),o=require_isObject(),i=require_isSymbol(),n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,_=parseInt;t.exports=function(e){if(\\\"number\\\"==typeof e)return e;if(i(e))return NaN;if(o(e)&&(t=\\\"function\\\"==typeof e.valueOf?e.valueOf():e,e=o(t)?t+\\\"\\\":t),\\\"string\\\"!=typeof e)return 0===e?e:+e;e=r(e);var t=s.test(e);return t||a.test(e)?_(e.slice(2),t?2:8):n.test(e)?NaN:+e}}}),require_toFinite=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js\\\"(e,t){init_esbuild_inject();var r=require_toNumber();t.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}}}),require_toInteger=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js\\\"(e,t){init_esbuild_inject();var o=require_toFinite();t.exports=function(e){var t=o(e),r=t%1;return t==t?r?t-r:t:0}}}),require_take=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/take.js\\\"(e,t){init_esbuild_inject();var o=require_baseSlice(),i=require_toInteger();t.exports=function(e,t,r){return e&&e.length?(t=r||void 0===t?1:i(t),o(e,0,t<0?0:t)):[]}}}),import_mapValues=(init_esbuild_inject(),__toESM(require_mapValues())),activeServerStateTiddlerTitle=(init_esbuild_inject(),\\\"$:/state/tw-mobile-sync/activeServer\\\"),clientStatusStateTiddlerTitle=\\\"$:/state/tw-mobile-sync/clientStatus\\\",getLoopInterval=()=>60*(Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-mobile-sync/Config/SyncInterval\\\"))||3)*1e3;function getDiffFilter(e){return`[all[]] :filter[get[modified]compare:date:gt[${null!=e?e:\\\"\\\"}]]`}init_esbuild_inject();var getServerListFilter=()=>$tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-mobile-sync/ServerListFilter\\\"),syncRoute=(init_esbuild_inject(),\\\"/tw-mobile-sync/html-node-sync\\\"),statusRoute=\\\"/tw-mobile-sync/status\\\",clientInfoRoute=\\\"/tw-mobile-sync/client-info\\\",fullHtmlRoute=\\\"/tw-mobile-sync/get-full-html\\\";function getSyncEndPoint(e,t){return`http://${e}:`+t+syncRoute}function getStatusEndPoint(e,t){return`http://${e}:`+t+statusRoute}function getClientInfoPoint(){return\\\"http://\\\"+location.host+clientInfoRoute}function getFullHtmlEndPoint(e,t){return\\\"http://\\\"+location.host+fullHtmlRoute}init_esbuild_inject();var tiddlersToNotSync,prefixToNotSync,import_cloneDeep=__toESM(require_cloneDeep()),import_take=(init_esbuild_inject(),__toESM(require_take()));function getSyncedTiddlersText(e,t,r){var o=(0,import_take[\\\"default\\\"])(e,5).map(e=>{var t;return null!=(t=e.caption)?t:e.title}).join(\\\" \\\"),i=5<e.length?`And ${e.length-5} more`:\\\"\\\",n=(0,import_take[\\\"default\\\"])(t,5).map(e=>{var t;return null!=(t=e.caption)?t:e.title}).join(\\\" \\\"),s=5<t.length?`And ${t.length-5} more`:\\\"\\\",a=null!=r&&r.reverse?\\\"↓\\\":\\\"↑\\\",_=null!=r&&r.reverse?\\\"↑\\\":\\\"↓\\\";return a+` ${e.length} ${_} `+t.length+(0<e.length?`\\n\\n${a}: ${o} `+i:\\\"\\\")+(0<t.length?`\\n\\n${_}: ${n} `+s:\\\"\\\")}init_esbuild_inject();var filterOutNotSyncedTiddlers=e=>{var t;return void 0!==tiddlersToNotSync&&void 0!==prefixToNotSync||(tiddlersToNotSync=new Set((null!=(t=$tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersToNotSync\\\"))?t:\\\"\\\").split(\\\" \\\").map(e=>e.replace(\\\"[[\\\",\\\"\\\").replace(\\\"]]\\\",\\\"\\\"))),prefixToNotSync=(null!=(t=$tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-mobile-sync/Config/TiddlersPrefixToNotSync\\\"))?t:\\\"\\\").split(\\\" \\\").map(e=>e.replace(\\\"[[\\\",\\\"\\\").replace(\\\"]]\\\",\\\"\\\"))),e.filter(t=>!prefixToNotSync.some(e=>t.title.startsWith(e))).filter(e=>!tiddlersToNotSync.has(e.title))},BackgroundSyncManager=(exports.name=\\\"browser-background-sync\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"render\\\"],exports.synchronous=!0,class{constructor(){__privateAdd(this,_showNotification),this.lock=!1,this.loopInterval=getLoopInterval(),this.setupListener(),this.startCheckServerStatusLoop()}setupListener(){$tw.rootWidget.addEventListener(\\\"tw-mobile-sync-get-server-status\\\",async e=>this.getServerStatus()),$tw.rootWidget.addEventListener(\\\"tw-mobile-sync-set-active-server-and-sync\\\",async e=>{var t=null==(t=e.paramObject)?void 0:t.title;await this.setActiveServerAndSync(t)}),$tw.rootWidget.addEventListener(\\\"tw-mobile-sync-sync-start\\\",async e=>this.start()),$tw.rootWidget.addEventListener(\\\"tw-mobile-sync-download-full-html\\\",async e=>this.downloadFullHtmlAndApplyToWiki())}startCheckServerStatusLoop(){setInterval(()=>this.getServerStatus(),this.loopInterval)}async start(e){void 0!==this.loop&&(clearInterval(this.loop),this.lock=!1),await this.onSyncStart(e),this.loop=setInterval(()=>this.onSyncStart(e),this.loopInterval)}async onSyncStart(e){if(this.getConnectedClientStatus(),!this.lock){this.lock=!0;try{!0!==e&&await this.getServerStatus(),await this.syncWithServer(),$tw.rootWidget.dispatchEvent({type:\\\"tm-auto-save-wiki\\\"})}finally{this.lock=!1}}}async setActiveServerAndSync(e){try{var t,r;\\\"string\\\"==typeof e&&void 0!==$tw.wiki.getTiddler(e)&&(await this.getServerStatus(),void 0!==(t=$tw.wiki.getTiddler(e)))&&(r=[\\\"onlineActive\\\",\\\"online\\\"].includes(t.fields.text)?\\\"onlineActive\\\":\\\"offlineActive\\\",$tw.wiki.addTiddler({...t.fields,text:r}),this.setActiveServerTiddlerTitle(e,t.fields.lastSync),await this.start(!0))}catch(o){console.error(o)}}getActiveServerTiddlerTitle(){return $tw.wiki.getTiddlerText(activeServerStateTiddlerTitle)}setActiveServerTiddlerTitle(e,t){$tw.wiki.addTiddler({title:activeServerStateTiddlerTitle,text:e,lastSync:t});var r=$tw.wiki.getTiddler(e);void 0!==r&&$tw.wiki.addTiddler({...r.fields,lastSync:t})}async getConnectedClientStatus(){try{var e=await fetch(getClientInfoPoint()).then(async e=>e.json());Object.values(e).forEach(e=>{$tw.wiki.addTiddler({title:clientStatusStateTiddlerTitle+\\\"/\\\"+e.Origin,...e})})}catch(t){console.warn(\\\"tw-mobile-sync can't connect to tw nodejs side. Error: \\\"+t.message)}}async getServerStatus(){const s=this.getActiveServerTiddlerTitle();(await Promise.all(this.serverList.map(async e=>{var t=e.fields.title===s;try{const n=new AbortController;var r=setTimeout(()=>n.abort(),3e3),o=await fetch(getStatusEndPoint(e.fields.ipAddress,e.fields.port),{signal:n.signal}).then(async e=>e.json());if(clearTimeout(r),\\\"string\\\"==typeof o.tiddlywiki_version)return{...e,fields:{...e.fields,text:t?\\\"onlineActive\\\":\\\"online\\\"}}}catch(i){i.message.includes(\\\"The operation was aborted\\\")?$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-mobile-sync/notification\\\",text:\\\"GetServerStatus Timeout after 3s\\\"}):(console.error(`getServerStatus() ${i.message} ${e.fields.name} `+(null!=(r=i.stack)?r:\\\"\\\")),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-mobile-sync/notification\\\",text:\\\"GetServerStatus Failed \\\"+i.message}))}return $tw.notifier.display(\\\"$:/state/notification/tw-mobile-sync/notification\\\"),{...e,fields:{...e.fields,text:t?\\\"offlineActive\\\":\\\"offline\\\"}}}))).forEach(e=>{$tw.wiki.addTiddler(e.fields)})}async syncWithServer(){const r=this.onlineActiveServer;if(void 0!==r){this.serverList.forEach(e=>{var t;\\\"onlineActive\\\"===(null==(t=null==e?void 0:e.fields)?void 0:t.text)&&(null==(t=null==e?void 0:e.fields)?void 0:t.title)!==r.fields.title&&$tw.wiki.addTiddler({...e.fields,text:\\\"online\\\"})});try{var e=filterOutNotSyncedTiddlers(this.currentModifiedTiddlers),t={tiddlers:e,lastSync:r.fields.lastSync},o=await fetch(getSyncEndPoint(r.fields.ipAddress,r.fields.port),{method:\\\"POST\\\",mode:\\\"cors\\\",body:JSON.stringify(t),headers:{\\\"X-Requested-With\\\":\\\"TiddlyWiki\\\",\\\"Content-Type\\\":\\\"application/json\\\"}}).then(async e=>filterOutNotSyncedTiddlers(await e.json()));o.forEach(e=>{$tw.wiki.addTiddler(e)}),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-mobile-sync/notification\\\",text:\\\"Sync Complete \\\"+getSyncedTiddlersText(e,o)}),this.setActiveServerTiddlerTitle(r.fields.title,this.getLastSyncString())}catch(i){console.error(i),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-mobile-sync/notification\\\",text:\\\"Sync Failed \\\"+i.message})}$tw.notifier.display(\\\"$:/state/notification/tw-mobile-sync/notification\\\")}}async downloadFullHtmlAndApplyToWiki(){var e=this.onlineActiveServer;if(void 0!==e)try{var t=await fetch(getFullHtmlEndPoint(e.fields.ipAddress,e.fields.port),{mode:\\\"cors\\\",headers:{\\\"X-Requested-With\\\":\\\"TiddlyWiki\\\",\\\"Content-Type\\\":\\\"text/html\\\"}}).then(async e=>e.text());this.setActiveServerTiddlerTitle(e.fields.title,this.getLastSyncString());const o=(0,import_cloneDeep[\\\"default\\\"])(this.serverList);document.write(t),document.close(),__privateMethod(this,_showNotification,showNotification_fn).call(this,\\\"Full html applied, set server list back.\\\"),addEventListener(\\\"DOMContentLoaded\\\",e=>{setTimeout(()=>{$tw.wiki.addTiddlers(o.map(e=>e.fields))},1e3)})}catch(r){console.error(r),__privateMethod(this,_showNotification,showNotification_fn).call(this,\\\"Full html apply failed \\\"+r.message)}}get onlineActiveServer(){return this.serverList.find(e=>{var t;return\\\"onlineActive\\\"===(null==(t=null==e?void 0:e.fields)?void 0:t.text)})}getLastSyncString(){return $tw.utils.stringifyDate(new Date)}get currentModifiedTiddlers(){var e=this.onlineActiveServer;return void 0===e?[]:(e=getDiffFilter(e.fields.lastSync),(null!=(e=$tw.wiki.compileFilter(e)())?e:[]).map($tw.wiki.getTiddler).filter(e=>void 0!==e).map(e=>(0,import_mapValues[\\\"default\\\"])(e.fields,e=>e instanceof Date?$tw.utils.stringifyDate(e):e)))}get serverList(){var e;return(null!=(e=$tw.wiki.compileFilter(getServerListFilter())())?e:[]).map(e=>$tw.wiki.getTiddler(e))}}),_showNotification=new WeakSet,showNotification_fn=function(e){$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-mobile-sync/notification\\\",text:e}),$tw.notifier.display(\\\"$:/state/notification/tw-mobile-sync/notification\\\")};exports.startup=()=>{(new BackgroundSyncManager).start()};\"},\"$:/plugins/linonetwo/tw-mobile-sync/clientInfoStore.js\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/clientInfoStore.js\",\"type\":\"application/javascript\",\"module-type\":\"library\",\"Modern.TiddlyDev#Origin\":\"data/clientInfoStore.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,i)=>function(){return i=e?(0,e[__getOwnPropNames(e)[0]])(e=0):i},__commonJS=(e,i)=>function(){return i||(0,e[__getOwnPropNames(e)[0]])((i={exports:{}}).exports,i),i.exports},__copyProps=(i,r,t,o)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(i,e)||e===t||__defProp(i,e,{get:()=>r[e],enumerable:!(o=__getOwnPropDesc(r,e))||o.enumerable});return i},__toESM=(e,i,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!i&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),__accessCheck=(e,i,r)=>{if(!i.has(e))throw TypeError(\\\"Cannot \\\"+r)},__privateGet=(e,i,r)=>(__accessCheck(e,i,\\\"read from private field\\\"),r?r.call(e):i.get(e)),__privateAdd=(e,i,r)=>{if(i.has(e))throw TypeError(\\\"Cannot add the same private member more than once\\\");i instanceof WeakSet?i.add(e):i.set(e,r)},init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.4.28_ts-node@10.9.1/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_ua_parser=__commonJS({\\\"node_modules/.pnpm/ua-parser-js@1.0.32/node_modules/ua-parser-js/src/ua-parser.js\\\"(e,i){var o,u,t,a,w,n,d,s,l,b,c,p,m,f,r,_,h,g,C,v,k,y,x,O,E,T,S,P,j,G,R,q,A,I,M,B,N,z;init_esbuild_inject(),o=\\\"object\\\"==typeof window?window:e,w=\\\"function\\\",n=\\\"undefined\\\",d=\\\"object\\\",s=\\\"string\\\",j=function(e){for(var i={},r=0;r<e.length;r++)i[e[r].toUpperCase()]=e[r];return i},G=function(e,i){return typeof e===s&&-1!==R(i).indexOf(R(e))},A=function(e,i){for(var r,t,o,a,n,s=0;s<i.length&&!a;){for(var l=i[s],b=i[s+1],c=r=0;c<l.length&&!a;)if(a=l[c++].exec(e))for(t=0;t<b.length;t++)n=a[++r],typeof(o=b[t])===d&&0<o.length?2===o.length?typeof o[1]==w?this[o[0]]=o[1].call(this,n):this[o[0]]=o[1]:3===o.length?typeof o[1]!==w||o[1].exec&&o[1].test?this[o[0]]=n?n.replace(o[1],o[2]):u:this[o[0]]=n?o[1].call(this,n,o[2]):u:4===o.length&&(this[o[0]]=n?o[3].call(this,n.replace(o[1],o[2])):u):this[o]=n||u;s+=2}},B={browser:[[/\\\\b(?:crmo|crios)\\\\/([\\\\w\\\\.]+)/i],[m=\\\"version\\\",[b=\\\"name\\\",v=\\\"Chrome\\\"]],[/edg(?:e|ios|a)?\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"Edge\\\"]],[/(opera mini)\\\\/([-\\\\w\\\\.]+)/i,/(opera [mobiletab]{3,6})\\\\b.+version\\\\/([-\\\\w\\\\.]+)/i,/(opera)(?:.+version\\\\/|[\\\\/ ]+)([\\\\w\\\\.]+)/i],[b,m],[/opios[\\\\/ ]+([\\\\w\\\\.]+)/i],[m,[b,(P=\\\"Opera\\\")+\\\" Mini\\\"]],[/\\\\bopr\\\\/([\\\\w\\\\.]+)/i],[m,[b,P]],[/(kindle)\\\\/([\\\\w\\\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\\\/ ]?([\\\\w\\\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\\\/ ]?([\\\\w\\\\.]*)/i,/(ba?idubrowser)[\\\\/ ]?([\\\\w\\\\.]+)/i,/(?:ms|\\\\()(ie) ([\\\\w\\\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\\\/([-\\\\w\\\\.]+)/i,/(weibo)__([\\\\d\\\\.]+)/i],[b,m],[/(?:\\\\buc? ?browser|(?:juc.+)ucweb)[\\\\/ ]?([\\\\w\\\\.]+)/i],[m,[b,\\\"UC\\\"+(I=\\\"Browser\\\")]],[/microm.+\\\\bqbcore\\\\/([\\\\w\\\\.]+)/i,/\\\\bqbcore\\\\/([\\\\w\\\\.]+).+microm/i],[m,[b,\\\"WeChat(Win) Desktop\\\"]],[/micromessenger\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"WeChat\\\"]],[/konqueror\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"Konqueror\\\"]],[/trident.+rv[: ]([\\\\w\\\\.]{1,9})\\\\b.+like gecko/i],[m,[b,\\\"IE\\\"]],[/yabrowser\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"Yandex\\\"]],[/(avast|avg)\\\\/([\\\\w\\\\.]+)/i],[[b,/(.+)/,\\\"$1 Secure \\\"+I],m],[/\\\\bfocus\\\\/([\\\\w\\\\.]+)/i],[m,[b,(k=\\\"Firefox\\\")+\\\" Focus\\\"]],[/\\\\bopt\\\\/([\\\\w\\\\.]+)/i],[m,[b,P+\\\" Touch\\\"]],[/coc_coc\\\\w+\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"Coc Coc\\\"]],[/dolfin\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"Dolphin\\\"]],[/coast\\\\/([\\\\w\\\\.]+)/i],[m,[b,P+\\\" Coast\\\"]],[/miuibrowser\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"MIUI \\\"+I]],[/fxios\\\\/([-\\\\w\\\\.]+)/i],[m,[b,k]],[/\\\\bqihu|(qi?ho?o？|360)browser/i],[[b,\\\"360 \\\"+I]],[/(oculus|samsung|sailfish|huawei)browser\\\\/([\\\\w\\\\.]+)/i],[[b,/(.+)/,\\\"$1 \\\"+I],m],[/(comodo_dragon)\\\\/([\\\\w\\\\.]+)/i],[[b,/_/g,\\\" \\\"],m],[/(electron)\\\\/([\\\\w\\\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\\\/(20\\\\d\\\\d\\\\.[-\\\\w\\\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\\\/ ]?([\\\\w\\\\.]+)/i],[b,m],[/(metasr)[\\\\/ ]?([\\\\w\\\\.]+)/i,/(lbbrowser)/i,/\\\\[(linkedin)app\\\\]/i],[b],[/((?:fban\\\\/fbios|fb_iab\\\\/fb4a)(?!.+fbav)|;fbav\\\\/([\\\\w\\\\.]+);)/i],[[b,P=\\\"Facebook\\\"],m],[/safari (line)\\\\/([\\\\w\\\\.]+)/i,/\\\\b(line)\\\\/([\\\\w\\\\.]+)\\\\/iab/i,/(chromium|instagram)[\\\\/ ]([-\\\\w\\\\.]+)/i],[b,m],[/\\\\bgsa\\\\/([\\\\w\\\\.]+) .*safari\\\\//i],[m,[b,\\\"GSA\\\"]],[/headlesschrome(?:\\\\/([\\\\w\\\\.]+)| )/i],[m,[b,v+\\\" Headless\\\"]],[/ wv\\\\).+(chrome)\\\\/([\\\\w\\\\.]+)/i],[[b,v+\\\" WebView\\\"],m],[/droid.+ version\\\\/([\\\\w\\\\.]+)\\\\b.+(?:mobile safari|safari)/i],[m,[b,\\\"Android \\\"+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\\\/v?([\\\\w\\\\.]+)/i],[b,m],[/version\\\\/([\\\\w\\\\.\\\\,]+) .*mobile\\\\/\\\\w+ (safari)/i],[m,[b,\\\"Mobile Safari\\\"]],[/version\\\\/([\\\\w(\\\\.|\\\\,)]+) .*(mobile ?safari|safari)/i],[m,b],[/webkit.+?(mobile ?safari|safari)(\\\\/[\\\\w\\\\.]+)/i],[b,[m,I=function(e,i){for(var r in i)if(typeof i[r]===d&&0<i[r].length){for(var t=0;t<i[r].length;t++)if(G(i[r][t],e))return\\\"?\\\"===r?u:r}else if(G(i[r],e))return\\\"?\\\"===r?u:r;return e},{\\\"1.0\\\":\\\"/8\\\",1.2:\\\"/1\\\",1.3:\\\"/3\\\",\\\"2.0\\\":\\\"/412\\\",\\\"2.0.2\\\":\\\"/416\\\",\\\"2.0.3\\\":\\\"/417\\\",\\\"2.0.4\\\":\\\"/419\\\",\\\"?\\\":\\\"/\\\"}]],[/(webkit|khtml)\\\\/([\\\\w\\\\.]+)/i],[b,m],[/(navigator|netscape\\\\d?)\\\\/([-\\\\w\\\\.]+)/i],[[b,\\\"Netscape\\\"],m],[/mobile vr; rv:([\\\\w\\\\.]+)\\\\).+firefox/i],[m,[b,k+\\\" Reality\\\"]],[/ekiohf.+(flow)\\\\/([\\\\w\\\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\\\/ ]?([\\\\w\\\\.\\\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\\\/([-\\\\w\\\\.]+)$/i,/(firefox)\\\\/([\\\\w\\\\.]+)/i,/(mozilla)\\\\/([\\\\w\\\\.]+) .+rv\\\\:.+gecko\\\\/\\\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\\\. ]?browser)[-\\\\/ ]?v?([\\\\w\\\\.]+)/i,/(links) \\\\(([\\\\w\\\\.]+)/i],[b,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\\\)]/i],[[f=\\\"architecture\\\",\\\"amd64\\\"]],[/(ia32(?=;))/i],[[f,R=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\\\\)]/i],[[f,\\\"ia32\\\"]],[/\\\\b(aarch64|arm(v?8e?l？|_?64))\\\\b/i],[[f,\\\"arm64\\\"]],[/\\\\b(arm(?:v[67])?ht?n?[fl]p?)\\\\b/i],[[f,\\\"armhf\\\"]],[/windows (ce|mobile); ppc;/i],[[f,\\\"arm\\\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\\\))/i],[[f,/ower/,a=\\\"\\\",R]],[/(sun4\\\\w)[;\\\\)]/i],[[f,\\\"sparc\\\"]],[/((?:avr32|ia64(?=;))|68k(?=\\\\))|\\\\barm(?=v(?:[1-7]|[5-7]1)l？|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\\\b|pa-risc)/i],[[f,R]]],device:[[/\\\\b(sch-i[89]0\\\\d|shw-m380s|sm-[ptx]\\\\w{2,4}|gt-[pn]\\\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l=\\\"model\\\",[p=\\\"vendor\\\",O=\\\"Samsung\\\"],[c=\\\"type\\\",h=\\\"tablet\\\"]],[/\\\\b((?:s[cgp]h|gt|sm)-\\\\w+|galaxy nexus)/i,/samsung[- ]([-\\\\w]+)/i,/sec-(sgh\\\\w+)/i],[l,[p,O],[c,_=\\\"mobile\\\"]],[/\\\\((ip(?:hone|od)[\\\\w ]*);/i],[l,[p,g=\\\"Apple\\\"],[c,_]],[/\\\\((ipad);[-\\\\w\\\\),; ]+apple/i,/applecoremedia\\\\/[\\\\w\\\\.]+ \\\\((ipad)/i,/\\\\b(ipad)\\\\d\\\\d?,\\\\d\\\\d?[;\\\\]].+ios/i],[l,[p,g],[c,h]],[/\\\\b((?:ag[rs][23]?|bah2？|sht？|btv)-a?[lw]\\\\d{2})\\\\b(?!.+d\\\\/s)/i],[l,[p,\\\"Huawei\\\"],[c,h]],[/(?:huawei|honor)([-\\\\w ]+)[;\\\\)]/i,/\\\\b(nexus 6p|\\\\w{2,4}e?-[atu]?[ln][\\\\dx][012359c][adn]?)\\\\b(?!.+d\\\\/s)/i],[l,[p,\\\"Huawei\\\"],[c,_]],[/\\\\b(poco[\\\\w ]+)(?: bui|\\\\))/i,/\\\\b; (\\\\w+) build\\\\/hm\\\\1/i,/\\\\b(hm[-_ ]?note?[_ ]?(?:\\\\d\\\\w)?) bui/i,/\\\\b(redmi[\\\\-_ ]?(?:note|k)?[\\\\w_ ]+)(?: bui|\\\\))/i,/\\\\b(mi[-_ ]?(?:a\\\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\\\d?\\\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\\\))/i],[[l,/_/g,\\\" \\\"],[p,T=\\\"Xiaomi\\\"],[c,_]],[/\\\\b(mi[-_ ]?(?:pad)(?:[\\\\w_ ]+))(?: bui|\\\\))/i],[[l,/_/g,\\\" \\\"],[p,T],[c,h]],[/; (\\\\w+) bui.+ oppo/i,/\\\\b(cph[12]\\\\d{3}|p(?:af|c[al]|d\\\\w|e[ar])[mt]\\\\d0|x9007|a101op)\\\\b/i],[l,[p,\\\"OPPO\\\"],[c,_]],[/vivo (\\\\w+)(?: bui|\\\\))/i,/\\\\b(v[12]\\\\d{3}\\\\w?[at])(?: bui|;)/i],[l,[p,\\\"Vivo\\\"],[c,_]],[/\\\\b(rmx[12]\\\\d{3})(?: bui|;|\\\\))/i],[l,[p,\\\"Realme\\\"],[c,_]],[/\\\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\\\b[\\\\w ]+build\\\\//i,/\\\\bmot(?:orola)?[- ](\\\\w*)/i,/((?:moto[\\\\w\\\\(\\\\) ]+|xt\\\\d{3,4}|nexus 6)(?= bui|\\\\)))/i],[l,[p,x=\\\"Motorola\\\"],[c,_]],[/\\\\b(mz60\\\\d|xoom[2 ]{0,2}) build\\\\//i],[l,[p,x],[c,h]],[/((?=lg)?[vl]k\\\\-?\\\\d{3}) bui| 3\\\\.[-\\\\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,\\\"LG\\\"],[c,h]],[/(lm(?:-?f100[nv]?|-[\\\\w\\\\.]+)(?= bui|\\\\))|nexus [45])/i,/\\\\blg[-e;\\\\/ ]+((?!browser|netcast|android tv)\\\\w+)/i,/\\\\blg-?([\\\\d\\\\w]+) bui/i],[l,[p,\\\"LG\\\"],[c,_]],[/(ideatab[-\\\\w ]+)/i,/lenovo ?(s[56]000[-\\\\w]+|tab(?:[\\\\w ]+)|yt[-\\\\d\\\\w]{6}|tb[-\\\\d\\\\w]{6})/i],[l,[p,\\\"Lenovo\\\"],[c,h]],[/(?:maemo|nokia).*(n900|lumia \\\\d+)/i,/nokia[-_ ]?([-\\\\w\\\\.]*)/i],[[l,/_/g,\\\" \\\"],[p,\\\"Nokia\\\"],[c,_]],[/(pixel c)\\\\b/i],[l,[p,x=\\\"Google\\\"],[c,h]],[/droid.+; (pixel[\\\\daxl ]{0,6})(?: bui|\\\\))/i],[l,[p,x],[c,_]],[/droid.+ (a?\\\\d[0-2]{2}so|[c-g]\\\\d{4}|so[-gl]\\\\w+|xq-a\\\\w[4-7][12])(?= bui|\\\\).+chrome\\\\/(?![1-6]{0,1}\\\\d\\\\.))/i],[l,[p,E=\\\"Sony\\\"],[c,_]],[/sony tablet [ps]/i,/\\\\b(?:sony)?sgp\\\\w+(?: bui|\\\\))/i],[[l,\\\"Xperia Tablet\\\"],[p,E],[c,h]],[/ (kb2005|in20[12]5|be20[12][59])\\\\b/i,/(?:one)?(?:plus)? (a\\\\d0\\\\d\\\\d)(?: b|\\\\))/i],[l,[p,\\\"OnePlus\\\"],[c,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\\\))/i,/(kf[a-z]+)( bui|\\\\)).+silk\\\\//i],[l,[p,M=\\\"Amazon\\\"],[c,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\\\)).+silk\\\\//i],[[l,/(.+)/g,\\\"Fire Phone $1\\\"],[p,M],[c,_]],[/(playbook);[-\\\\w\\\\),; ]+(rim)/i],[l,p,[c,h]],[/\\\\b((?:bb[a-f]|st[hv])100-\\\\d)/i,/\\\\(bb10; (\\\\w+)/i],[l,[p,C=\\\"BlackBerry\\\"],[c,_]],[/(?:\\\\b|asus_)(transfo[prime ]{4,10} \\\\w+|eeepc|slider \\\\w+|nexus 7|padfone|p00[cj])/i],[l,[p,y=\\\"ASUS\\\"],[c,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \\\\d\\\\w?)\\\\b/i],[l,[p,y],[c,_]],[/(nexus 9)/i],[l,[p,\\\"HTC\\\"],[c,h]],[/(htc)[-;_ ]{1,2}([\\\\w ]+(?=\\\\)| bui)|\\\\w+)/i,/(zte)[- ]([\\\\w ]+?)(?: bui|\\\\/|\\\\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\\\w]*)/i],[p,[l,/_/g,\\\" \\\"],[c,_]],[/droid.+; ([ab][1-7]-?[0178a]\\\\d\\\\d?)/i],[l,[p,\\\"Acer\\\"],[c,h]],[/droid.+; (m[1-5] note) bui/i,/\\\\bmz-([-\\\\w]{2,})/i],[l,[p,\\\"Meizu\\\"],[c,_]],[/\\\\b(sh-?[altvz]?\\\\d\\\\d[a-ekm]?)/i],[l,[p,\\\"Sharp\\\"],[c,_]],[/(blackberry|benq|palm(?=\\\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\\\w]*)/i,/(hp) ([\\\\w ]+\\\\w)/i,/(asus)-?(\\\\w+)/i,/(microsoft); (lumia[\\\\w ]+)/i,/(lenovo)[-_ ]?([-\\\\w]+)/i,/(jolla)/i,/(oppo) ?([\\\\w ]+) bui/i],[p,l,[c,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\\\/([\\\\w\\\\.]+)/i,/(nook)[\\\\w ]+build\\\\/(\\\\w+)/i,/(dell) (strea[kpr\\\\d ]*[\\\\dko])/i,/(le[- ]+pan)[- ]+(\\\\w{1,9}) bui/i,/(trinity)[- ]*(t\\\\d{3}) bui/i,/(gigaset)[- ]+(q\\\\w{1,9}) bui/i,/(vodafone) ([\\\\w ]+)(?:\\\\)| bui)/i],[p,l,[c,h]],[/(surface duo)/i],[l,[p,y=\\\"Microsoft\\\"],[c,h]],[/droid [\\\\d\\\\.]+; (fp\\\\du?)(?: b|\\\\))/i],[l,[p,\\\"Fairphone\\\"],[c,_]],[/(u304aa)/i],[l,[p,\\\"AT&T\\\"],[c,_]],[/\\\\bsie-(\\\\w*)/i],[l,[p,\\\"Siemens\\\"],[c,_]],[/\\\\b(rct\\\\w+) b/i],[l,[p,\\\"RCA\\\"],[c,h]],[/\\\\b(venue[\\\\d ]{2,7}) b/i],[l,[p,\\\"Dell\\\"],[c,h]],[/\\\\b(q(?:mv|ta)\\\\w+) b/i],[l,[p,\\\"Verizon\\\"],[c,h]],[/\\\\b(?:barnes[& ]+noble |bn[rt])([\\\\w\\\\+ ]*) b/i],[l,[p,\\\"Barnes & Noble\\\"],[c,h]],[/\\\\b(tm\\\\d{3}\\\\w+) b/i],[l,[p,\\\"NuVision\\\"],[c,h]],[/\\\\b(k88) b/i],[l,[p,\\\"ZTE\\\"],[c,h]],[/\\\\b(nx\\\\d{3}j) b/i],[l,[p,\\\"ZTE\\\"],[c,_]],[/\\\\b(gen\\\\d{3}) b.+49h/i],[l,[p,\\\"Swiss\\\"],[c,_]],[/\\\\b(zur\\\\d{3}) b/i],[l,[p,\\\"Swiss\\\"],[c,h]],[/\\\\b((zeki)?tb.*\\\\b) b/i],[l,[p,\\\"Zeki\\\"],[c,h]],[/\\\\b([yr]\\\\d{2}) b/i,/\\\\b(dragon[- ]+touch |dt)(\\\\w{5}) b/i],[[p,\\\"Dragon Touch\\\"],l,[c,h]],[/\\\\b(ns-?\\\\w{0,9}) b/i],[l,[p,\\\"Insignia\\\"],[c,h]],[/\\\\b((nxa|next)-?\\\\w{0,9}) b/i],[l,[p,\\\"NextBook\\\"],[c,h]],[/\\\\b(xtreme\\\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,\\\"Voice\\\"],l,[c,_]],[/\\\\b(lvtel\\\\-)?(v1[12]) b/i],[[p,\\\"LvTel\\\"],l,[c,_]],[/\\\\b(ph-1) /i],[l,[p,\\\"Essential\\\"],[c,_]],[/\\\\b(v(100md|700na|7011|917g).*\\\\b) b/i],[l,[p,\\\"Envizen\\\"],[c,h]],[/\\\\b(trio[-\\\\w\\\\. ]+) b/i],[l,[p,\\\"MachSpeed\\\"],[c,h]],[/\\\\btu_(1491) b/i],[l,[p,\\\"Rotor\\\"],[c,h]],[/(shield[\\\\w ]+) b/i],[l,[p,\\\"Nvidia\\\"],[c,h]],[/(sprint) (\\\\w+)/i],[p,l,[c,_]],[/(kin\\\\.[onetw]{3})/i],[[l,/\\\\./g,\\\" \\\"],[p,y],[c,_]],[/droid.+; (cc6666？|et5[16]|mc[239][23]x？|vc8[03]x?)\\\\)/i],[l,[p,S=\\\"Zebra\\\"],[c,h]],[/droid.+; (ec30|ps20|tc[2-8]\\\\d[kx])\\\\)/i],[l,[p,S],[c,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[c,r=\\\"console\\\"]],[/droid.+; (shield) bui/i],[l,[p,\\\"Nvidia\\\"],[c,r]],[/(playstation [345portablevi]+)/i],[l,[p,E],[c,r]],[/\\\\b(xbox(?: one)?(?!; xbox))[\\\\); ]/i],[l,[p,y],[c,r]],[/smart-tv.+(samsung)/i],[p,[c,y=\\\"smarttv\\\"]],[/hbbtv.+maple;(\\\\d+)/i],[[l,/^/,\\\"SmartTV\\\"],[p,O],[c,y]],[/(nux; netcast.+smarttv|lg (netcast\\\\.tv-201\\\\d|android tv))/i],[[p,\\\"LG\\\"],[c,y]],[/(apple) ?tv/i],[p,[l,g+\\\" TV\\\"],[c,y]],[/crkey/i],[[l,v+\\\"cast\\\"],[p,x],[c,y]],[/droid.+aft(\\\\w)( bui|\\\\))/i],[l,[p,M],[c,y]],[/\\\\(dtv[\\\\);].+(aquos)/i,/(aquos-tv[\\\\w ]+)\\\\)/i],[l,[p,\\\"Sharp\\\"],[c,y]],[/(bravia[\\\\w ]+)( bui|\\\\))/i],[l,[p,E],[c,y]],[/(mitv-\\\\w{5}) bui/i],[l,[p,T],[c,y]],[/\\\\b(roku)[\\\\dx]*[\\\\)\\\\/]((?:dvp-)?[\\\\d\\\\.]*)/i,/hbbtv\\\\/\\\\d+\\\\.\\\\d+\\\\.\\\\d+ +\\\\([\\\\w ]*; *(\\\\w[^;]*);([^;]*)/i],[[p,q=function(e,i){if(typeof e===s)return e=e.replace(/^\\\\s\\\\s*/,a).replace(/\\\\s\\\\s*$/,a),typeof i==n?e:e.substring(0,350)}],[l,q],[c,y]],[/\\\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\\\b/i],[[c,y]],[/((pebble))app/i],[p,l,[c,O=\\\"wearable\\\"]],[/droid.+; (glass) \\\\d/i],[l,[p,x],[c,O]],[/droid.+; (wt63?0{2,3})\\\\)/i],[l,[p,S],[c,O]],[/(quest( 2)?)/i],[l,[p,P],[c,O]],[/(tesla)(?: qtcarbrowser|\\\\/[-\\\\w\\\\.]+)/i],[p,[c,g=\\\"embedded\\\"]],[/droid .+?; ([^;]+?)(?: bui|\\\\) applew).+? mobile safari/i],[l,[c,_]],[/droid .+?; ([^;]+?)(?: bui|\\\\) applew).+?(?! mobile) safari/i],[l,[c,h]],[/\\\\b((tablet|tab)[;\\\\/]|focus\\\\/\\\\d(?!.+mobile))/i],[[c,h]],[/(phone|mobile(?:[;\\\\/]| [ \\\\w\\\\/\\\\.]*safari)|pda(?=.+windows ce))/i],[[c,_]],[/(android[-\\\\w\\\\. ]{0,9});.+buil/i],[l,[p,\\\"Generic\\\"]]],engine:[[/windows.+ edge\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"EdgeHTML\\\"]],[/webkit\\\\/537\\\\.36.+chrome\\\\/(?!27)([\\\\w\\\\.]+)/i],[m,[b,\\\"Blink\\\"]],[/(presto)\\\\/([\\\\w\\\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\\\/([\\\\w\\\\.]+)/i,/ekioh(flow)\\\\/([\\\\w\\\\.]+)/i,/(khtml|tasman|links)[\\\\/ ]\\\\(?([\\\\w\\\\.]+)/i,/(icab)[\\\\/ ]([23]\\\\.[\\\\d\\\\.]+)/i],[b,m],[/rv\\\\:([\\\\w\\\\.]{1,9})\\\\b.+(gecko)/i],[m,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,m],[/(windows) nt 6\\\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\\\/ ]?([\\\\d\\\\.\\\\w ]*)/i,/(windows)[\\\\/ ]?([ntce\\\\d\\\\. ]+\\\\w)(?!.+xbox)/i],[b,[m,I,M={ME:\\\"4.90\\\",\\\"NT 3.11\\\":\\\"NT3.51\\\",\\\"NT 4.0\\\":\\\"NT4.0\\\",2e3:\\\"NT 5.0\\\",XP:[\\\"NT 5.1\\\",\\\"NT 5.2\\\"],Vista:\\\"NT 6.0\\\",7:\\\"NT 6.1\\\",8:\\\"NT 6.2\\\",8.1:\\\"NT 6.3\\\",10:[\\\"NT 6.4\\\",\\\"NT 10.0\\\"],RT:\\\"ARM\\\"}]],[/(win(?=3|9|n)|win 9x )([nt\\\\d\\\\.]+)/i],[[b,\\\"Windows\\\"],[m,I,M]],[/ip[honead]{2,4}\\\\b(?:.*os ([\\\\w]+) like mac|; opera)/i,/cfnetwork\\\\/.+darwin/i],[[m,/_/g,\\\".\\\"],[b,\\\"iOS\\\"]],[/(mac os x) ?([\\\\w\\\\. ]*)/i,/(macintosh|mac_powerpc\\\\b)(?!.+haiku)/i],[[b,\\\"Mac OS\\\"],[m,/_/g,\\\".\\\"]],[/droid ([\\\\w\\\\.]+)\\\\b.+(android[- ]x86|harmonyos)/i],[m,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\\\/ ]?([\\\\w\\\\.]*)/i,/(blackberry)\\\\w*\\\\/([\\\\w\\\\.]*)/i,/(tizen|kaios)[\\\\/ ]([\\\\w\\\\.]+)/i,/\\\\((series40);/i],[b,m],[/\\\\(bb(10);/i],[m,[b,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\\\/ ]?([\\\\w\\\\.]*)/i],[m,[b,\\\"Symbian\\\"]],[/mozilla\\\\/[\\\\d\\\\.]+ \\\\((?:mobile|tablet|tv|mobile; [\\\\w ]+); rv:.+ gecko\\\\/([\\\\w\\\\.]+)/i],[m,[b,k+\\\" OS\\\"]],[/web0s;.+rt(tv)/i,/\\\\b(?:hp)?wos(?:browser)?\\\\/([\\\\w\\\\.]+)/i],[m,[b,\\\"webOS\\\"]],[/crkey\\\\/([\\\\d\\\\.]+)/i],[m,[b,v+\\\"cast\\\"]],[/(cros) [\\\\w]+ ([\\\\w\\\\.]+\\\\w)/i],[[b,\\\"Chromium OS\\\"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\\\);]+)/i,/\\\\b(joli|palm)\\\\b ?(?:os)?\\\\/?([\\\\w\\\\.]*)/i,/(mint)[\\\\/\\\\(\\\\) ]?(\\\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\\\/ ]?(?!chrom|package)([-\\\\w\\\\.]*)/i,/(hurd|linux) ?([\\\\w\\\\.]*)/i,/(gnu) ?([\\\\w\\\\.]*)/i,/\\\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\\\/ ]?(?!amd|[ix346]{1,2}86)([\\\\w\\\\.]*)/i,/(haiku) (\\\\w+)/i],[b,m],[/(sunos) ?([\\\\w\\\\.\\\\d]*)/i],[[b,\\\"Solaris\\\"],m],[/((?:open)?solaris)[-\\\\/ ]?([\\\\w\\\\.]*)/i,/(aix) ((\\\\d)(?=\\\\.|\\\\)| )[\\\\w\\\\.])*/i,/\\\\b(beos|os\\\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\\\w\\\\.]*)/i],[b,m]]},(N=function(e,i){var r,t;return typeof e===d&&(i=e,e=u),this instanceof N?(r=e||(typeof o!=n&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:a),t=i?function(e,i){var r,t={};for(r in e)i[r]&&i[r].length%2==0?t[r]=i[r].concat(e[r]):t[r]=e[r];return t}(B,i):B,this.getBrowser=function(){var e,i={};return i[b]=u,i[m]=u,A.call(i,r,t.browser),i.major=typeof(e=i.version)===s?e.replace(/[^\\\\d\\\\.]/g,a).split(\\\".\\\")[0]:u,i},this.getCPU=function(){var e={};return e[f]=u,A.call(e,r,t.cpu),e},this.getDevice=function(){var e={};return e[p]=u,e[l]=u,e[c]=u,A.call(e,r,t.device),e},this.getEngine=function(){var e={};return e[b]=u,e[m]=u,A.call(e,r,t.engine),e},this.getOS=function(){var e={};return e[b]=u,e[m]=u,A.call(e,r,t.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===s&&350<e.length?q(e,350):e,this},this.setUA(r),this):new N(e,i).getResult()}).VERSION=\\\"1.0.32\\\",N.BROWSER=j([b,m,\\\"major\\\"]),N.CPU=j([f]),N.DEVICE=j([l,p,c,r,_,y,h,O,g]),N.ENGINE=N.OS=j([b,m]),typeof e!=n?(e=typeof i!=n&&i.exports?i.exports=N:e).UAParser=N:typeof define===w&&define.amd?define(function(){return N}):typeof o!=n&&(o.UAParser=N),(z=typeof o!=n&&(o.jQuery||o.Zepto))&&!z.ua&&(t=new N,z.ua=t.getResult(),z.ua.get=function(){return t.getUA()},z.ua.set=function(e){t.setUA(e);var i,r=t.getResult();for(i in r)z.ua[i]=r[i]})}}),VOID=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),-1),PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=\\\"object\\\"==typeof self?self:globalThis,deserializer=(m,f)=>{const _=(e,i)=>(m.set(i,e),e),h=e=>{if(m.has(e))return m.get(e);var[i,r]=f[e];switch(i){case PRIMITIVE:case VOID:return _(r,e);case ARRAY:var t=_([],e);for(const d of r)t.push(h(d));return t;case OBJECT:var o,a,n=_({},e);for([o,a]of r)n[h(o)]=h(a);return n;case DATE:return _(new Date(r),e);case REGEXP:var{source:s,flags:l}=r;return _(new RegExp(s,l),e);case MAP:var b,c,u=_(new Map,e);for([b,c]of r)u.set(h(b),h(c));return u;case SET:var w=_(new Set,e);for(const p of r)w.add(h(p));return w;case ERROR:var{name:s,message:l}=r;return _(new env[s](l),e);case BIGINT:return _(BigInt(r),e);case\\\"BigInt\\\":return _(Object(BigInt(r)),e)}return _(new env[i](r),e)};return h},deserialize=e=>deserializer(new Map,e)(0),EMPTY=(init_esbuild_inject(),\\\"\\\"),toString={}[\\\"toString\\\"],keys=Object[\\\"keys\\\"],typeOf=e=>{var i=typeof e;if(\\\"object\\\"!=i||!e)return[PRIMITIVE,i];i=toString.call(e).slice(8,-1);switch(i){case\\\"Array\\\":return[ARRAY,EMPTY];case\\\"Object\\\":return[OBJECT,EMPTY];case\\\"Date\\\":return[DATE,EMPTY];case\\\"RegExp\\\":return[REGEXP,EMPTY];case\\\"Map\\\":return[MAP,EMPTY];case\\\"Set\\\":return[SET,EMPTY]}return i.includes(\\\"Array\\\")?[ARRAY,i]:i.includes(\\\"Error\\\")?[ERROR,i]:[OBJECT,i]},shouldSkip=([e,i])=>e===PRIMITIVE&&(\\\"function\\\"===i||\\\"symbol\\\"===i),serializer=(m,f,_,t)=>{const h=(e,i)=>{var r=t.push(e)-1;return _.set(i,r),r},g=i=>{if(_.has(i))return _.get(i);let[r,t]=typeOf(i);switch(r){case PRIMITIVE:{let e=i;switch(t){case\\\"bigint\\\":r=BIGINT,e=i.toString();break;case\\\"function\\\":case\\\"symbol\\\":if(m)throw new TypeError(\\\"unable to serialize \\\"+t);e=null;break;case\\\"undefined\\\":return h([VOID],i)}return h([r,e],i)}case ARRAY:if(t)return h([t,[...i]],i);var e=[],o=h([r,e],i);for(const w of i)e.push(g(w));return o;case OBJECT:if(t)switch(t){case\\\"BigInt\\\":return h([t,i.toString()],i);case\\\"Boolean\\\":case\\\"Number\\\":case\\\"String\\\":return h([t,i.valueOf()],i)}if(f&&\\\"toJSON\\\"in i)return g(i.toJSON());var a=[],o=h([r,a],i);for(const d of keys(i))!m&&shouldSkip(typeOf(i[d]))||a.push([g(d),g(i[d])]);return o;case DATE:return h([r,i.toISOString()],i);case REGEXP:var{source:o,flags:n}=i;return h([r,{source:o,flags:n}],i);case MAP:var s,l,b=[],o=h([r,b],i);for([s,l]of i)!m&&(shouldSkip(typeOf(s))||shouldSkip(typeOf(l)))||b.push([g(s),g(l)]);return o;case SET:var c=[],n=h([r,c],i);for(const p of i)!m&&shouldSkip(typeOf(p))||c.push(g(p));return n}var u=i[\\\"message\\\"];return h([r,{name:t,message:u}],i)};return g},serialize=(e,{json:i,lossy:r}={})=>{var t=[];return serializer(!(i||r),!!i,new Map,t)(e),t},esm_default=\\\"function\\\"==typeof structuredClone?(e,i)=>i&&(\\\"json\\\"in i||\\\"lossy\\\"in i)?deserialize(serialize(e,i)):structuredClone(e):(e,i)=>deserialize(serialize(e,i)),getLoopInterval=(init_esbuild_inject(),init_esbuild_inject(),()=>60*(Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-mobile-sync/Config/SyncInterval\\\"))||3)*1e3),import_ua_parser_js=__toESM(require_ua_parser()),ClientInfoStore=class{constructor(){__privateAdd(this,_clients,{});var e=getLoopInterval();const r=2*e,t=10*e;this.loopHandel=setInterval(()=>{Object.keys(__privateGet(this,_clients)).forEach(e=>{var i=__privateGet(this,_clients)[e].timestamp;!i||Date.now()-i>t?delete __privateGet(this,_clients)[e]:Date.now()-i>r&&(__privateGet(this,_clients)[e].state=\\\"offline\\\")})},e)}get allClient(){return esm_default(__privateGet(this,_clients))}updateClient(e,i){__privateGet(this,_clients)[e]={...__privateGet(this,_clients)[e],...i};var r,t,o=__privateGet(this,_clients)[e][\\\"User-Agent\\\"];o?(r=(o=new import_ua_parser_js[\\\"default\\\"](o)).getDevice().model,t=o.getOS().name,__privateGet(this,_clients)[e].name=null!=(o=null!=r?r:o.getBrowser().name)?o:__privateGet(this,_clients)[e].Origin,__privateGet(this,_clients)[e].model=r,__privateGet(this,_clients)[e].os=t):__privateGet(this,_clients)[e].name=__privateGet(this,_clients)[e].Origin}},_clients=new WeakMap;module.exports.store=new ClientInfoStore;\"},\"$:/plugins/linonetwo/tw-mobile-sync/scan-qr-widget.js\":{\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/scan-qr-widget.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"scan-qr-widget.ts\",\"text\":\"\\\"use strict\\\";var BitMatrix=class{constructor(e,o){this.width=o,this.height=e.length/o,this.data=e}static createEmpty(e,o){return new BitMatrix(new Uint8ClampedArray(e*o),e)}get(e,o){return!(e<0||e>=this.width||o<0||o>=this.height||!this.data[o*this.width+e])}set(e,o,r){this.data[o*this.width+e]=r?1:0}setRegion(o,r,t,s,c){for(let a=r;a<r+s;a++)for(let e=o;e<o+t;e++)this.set(e,a,!!c)}},REGION_SIZE=8,MIN_DYNAMIC_RANGE=24;function numBetween(e,o,r){return e<o?o:r<e?r:e}var Matrix=class{constructor(e,o,r){var t=(this.width=e)*o;if(r&&r.length!==t)throw new Error(\\\"Wrong buffer size\\\");this.data=r||new Uint8ClampedArray(t)}get(e,o){return this.data[o*this.width+e]}set(e,o,r){this.data[o*this.width+e]=r}};function binarize(t,s,c,a,d,e){var o=s*c;if(t.length!==4*o)throw new Error(\\\"Malformed data passed to binarizer.\\\");let r=0,l;e&&(l=new Uint8ClampedArray(t.buffer,r,o),r+=o);var n=new Matrix(s,c,l);if(d.useIntegerApproximation)for(let o=0;o<c;o++)for(let e=0;e<s;e++){var i=4*(o*s+e),B=t[i],k=t[1+i],i=t[2+i];n.set(e,o,d.red*B+d.green*k+d.blue*i+128>>8)}else for(let r=0;r<c;r++)for(let e=0;e<s;e++){var u=4*(r*s+e),m=t[u],C=t[1+u],u=t[2+u];n.set(e,r,d.red*m+d.green*C+d.blue*u)}var w=Math.ceil(s/REGION_SIZE),P=Math.ceil(c/REGION_SIZE),f=w*P;let h;e&&(h=new Uint8ClampedArray(t.buffer,r,f),r+=f);var v=new Matrix(w,P,h);for(let E=0;E<P;E++)for(let s=0;s<w;s++){let o=Infinity,r=0;for(let t=0;t<REGION_SIZE;t++)for(let e=0;e<REGION_SIZE;e++){var g=n.get(s*REGION_SIZE+e,E*REGION_SIZE+t);o=Math.min(o,g),r=Math.max(r,g)}let e=(o+r)/2;var b;e=Math.min(255,1.11*e),r-o<=MIN_DYNAMIC_RANGE&&(e=o/2,0<E)&&0<s&&(b=(v.get(s,E-1)+2*v.get(s-1,E)+v.get(s-1,E-1))/4,o<b)&&(e=b),v.set(s,E,e)}let p,y=(p=e?(f=new Uint8ClampedArray(t.buffer,r,o),r+=o,new BitMatrix(f,s)):BitMatrix.createEmpty(s,c),null);a&&(y=e?(f=new Uint8ClampedArray(t.buffer,r,o),new BitMatrix(f,s)):BitMatrix.createEmpty(s,c));for(let R=0;R<P;R++)for(let s=0;s<w;s++){var M=numBetween(s,2,w-3),x=numBetween(R,2,P-3);let o=0;for(let r=-2;r<=2;r++)for(let e=-2;e<=2;e++)o+=v.get(M+r,x+e);var A=o/25;for(let t=0;t<REGION_SIZE;t++)for(let e=0;e<REGION_SIZE;e++){var I=s*REGION_SIZE+t,L=R*REGION_SIZE+e,N=n.get(I,L);p.set(I,L,N<=A),a&&y.set(I,L,!(N<=A))}}return a?{binarized:p,inverted:y}:{binarized:p}}var Mode,ModeByte,BitStream=class{constructor(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}readBits(e){if(e<1||32<e||e>this.available())throw new Error(\\\"Cannot read \\\"+e.toString()+\\\" bits\\\");let o=0;var r,t;if(0<this.bitOffset&&(t=(r=8-this.bitOffset)-(r=e<r?e:r),o=(this.bytes[this.byteOffset]&255>>8-r<<t)>>t,e-=r,this.bitOffset+=r,8===this.bitOffset)&&(this.bitOffset=0,this.byteOffset++),0<e){for(;8<=e;)o=o<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;0<e&&(t=8-e,o=o<<e|(this.bytes[this.byteOffset]&255>>t<<t)>>t,this.bitOffset+=e)}return o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}};function decodeNumeric(e,o){var r=[];let t=\\\"\\\",s=e.readBits([10,12,14][o]);for(;3<=s;){var c=e.readBits(10);if(1e3<=c)throw new Error(\\\"Invalid numeric value above 999\\\");var a=Math.floor(c/100),d=Math.floor(c/10)%10,c=c%10;r.push(48+a,48+d,48+c),t+=a.toString()+d.toString()+c.toString(),s-=3}if(2===s){var l=e.readBits(7);if(100<=l)throw new Error(\\\"Invalid numeric value above 99\\\");var n=Math.floor(l/10),l=l%10;r.push(48+n,48+l),t+=n.toString()+l.toString()}else if(1===s){n=e.readBits(4);if(10<=n)throw new Error(\\\"Invalid numeric value above 9\\\");r.push(48+n),t+=n.toString()}return{bytes:r,text:t}}!function(e){e.Numeric=\\\"numeric\\\",e.Alphanumeric=\\\"alphanumeric\\\",e.Byte=\\\"byte\\\",e.Kanji=\\\"kanji\\\",e.ECI=\\\"eci\\\",e.StructuredAppend=\\\"structuredappend\\\"}(Mode=Mode||{}),function(e){e[e.Terminator=0]=\\\"Terminator\\\",e[e.Numeric=1]=\\\"Numeric\\\",e[e.Alphanumeric=2]=\\\"Alphanumeric\\\",e[e.Byte=4]=\\\"Byte\\\",e[e.Kanji=8]=\\\"Kanji\\\",e[e.ECI=7]=\\\"ECI\\\",e[e.StructuredAppend=3]=\\\"StructuredAppend\\\"}(ModeByte=ModeByte||{});var AlphanumericCharacterCodes=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];function decodeAlphanumeric(e,o){var r,t=[];let s=\\\"\\\",c=e.readBits([9,11,13][o]);for(;2<=c;){var a=e.readBits(11),d=Math.floor(a/45),a=a%45;t.push(AlphanumericCharacterCodes[d].charCodeAt(0),AlphanumericCharacterCodes[a].charCodeAt(0)),s+=AlphanumericCharacterCodes[d]+AlphanumericCharacterCodes[a],c-=2}return 1===c&&(r=e.readBits(6),t.push(AlphanumericCharacterCodes[r].charCodeAt(0)),s+=AlphanumericCharacterCodes[r]),{bytes:t,text:s}}function decodeByte(e,o){var r=[];let t=\\\"\\\";var s=e.readBits([8,16,16][o]);for(let d=0;d<s;d++){var c=e.readBits(8);r.push(c)}try{t+=decodeURIComponent(r.map(e=>\\\"%\\\"+(\\\"0\\\"+e.toString(16)).substr(-2)).join(\\\"\\\"))}catch(a){}return{bytes:r,text:t}}function decodeKanji(o,e){var r=[],t=o.readBits([8,10,12][e]);for(let c=0;c<t;c++){var s=o.readBits(13);let e=Math.floor(s/192)<<8|s%192;e<7936?e+=33088:e+=49472,r.push(e>>8,255&e)}return{bytes:r,text:new TextDecoder(\\\"shift-jis\\\").decode(Uint8Array.from(r))}}function decode$2(e,o){for(var r=new BitStream(e),t=o<=9?0:o<=26?1:2,s={text:\\\"\\\",bytes:[],chunks:[],version:o};4<=r.available();){var c,a,d=r.readBits(4);if(d===ModeByte.Terminator)return s;d===ModeByte.ECI?0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(21)}):s.chunks.push({type:Mode.ECI,assignmentNumber:-1}):d===ModeByte.Numeric?(c=decodeNumeric(r,t),s.text+=c.text,s.bytes.push(...c.bytes),s.chunks.push({type:Mode.Numeric,text:c.text})):d===ModeByte.Alphanumeric?(c=decodeAlphanumeric(r,t),s.text+=c.text,s.bytes.push(...c.bytes),s.chunks.push({type:Mode.Alphanumeric,text:c.text})):d===ModeByte.Byte?(a=decodeByte(r,t),s.text+=a.text,s.bytes.push(...a.bytes),s.chunks.push({type:Mode.Byte,bytes:a.bytes,text:a.text})):d===ModeByte.Kanji?(a=decodeKanji(r,t),s.text+=a.text,s.bytes.push(...a.bytes),s.chunks.push({type:Mode.Kanji,bytes:a.bytes,text:a.text})):d===ModeByte.StructuredAppend&&s.chunks.push({type:Mode.StructuredAppend,currentSequence:r.readBits(4),totalSequence:r.readBits(4),parity:r.readBits(8)})}if(0===r.available()||0===r.readBits(r.available()))return s}var GenericGFPoly=class{constructor(e,r){if(0===r.length)throw new Error(\\\"No coefficients.\\\");this.field=e;var t=r.length;if(1<t&&0===r[0]){let o=1;for(;o<t&&0===r[o];)o++;if(o===t)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(t-o);for(let e=0;e<this.coefficients.length;e++)this.coefficients[e]=r[o+e]}}else this.coefficients=r}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let o=this.coefficients,r=e.coefficients;o.length>r.length&&([o,r]=[r,o]);var t=new Uint8ClampedArray(r.length),s=r.length-o.length;for(let c=0;c<s;c++)t[c]=r[c];for(let a=s;a<r.length;a++)t[a]=addOrSubtractGF(o[a-s],r[a]);return new GenericGFPoly(this.field,t)}multiply(e){if(0===e)return this.field.zero;if(1===e)return this;var o=this.coefficients.length,r=new Uint8ClampedArray(o);for(let t=0;t<o;t++)r[t]=this.field.multiply(this.coefficients[t],e);return new GenericGFPoly(this.field,r)}multiplyPoly(e){if(this.isZero()||e.isZero())return this.field.zero;var o=this.coefficients,r=o.length,t=e.coefficients,s=t.length,c=new Uint8ClampedArray(r+s-1);for(let d=0;d<r;d++){var a=o[d];for(let e=0;e<s;e++)c[d+e]=addOrSubtractGF(c[d+e],this.field.multiply(a,t[e]))}return new GenericGFPoly(this.field,c)}multiplyByMonomial(e,o){if(e<0)throw new Error(\\\"Invalid degree less than 0\\\");if(0===o)return this.field.zero;var r=this.coefficients.length,t=new Uint8ClampedArray(r+e);for(let s=0;s<r;s++)t[s]=this.field.multiply(this.coefficients[s],o);return new GenericGFPoly(this.field,t)}evaluateAt(o){let r=0;if(0===o)return this.getCoefficient(0);var t=this.coefficients.length;if(1===o)this.coefficients.forEach(e=>{r=addOrSubtractGF(r,e)});else{r=this.coefficients[0];for(let e=1;e<t;e++)r=addOrSubtractGF(this.field.multiply(o,r),this.coefficients[e])}return r}};function addOrSubtractGF(e,o){return e^o}var GenericGF=class{constructor(e,o,r){this.primitive=e,this.size=o,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);let t=1;for(let s=0;s<this.size;s++)this.expTable[s]=t,(t*=2)>=this.size&&(t=(t^this.primitive)&this.size-1);for(let c=0;c<this.size-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new GenericGFPoly(this,Uint8ClampedArray.from([0])),this.one=new GenericGFPoly(this,Uint8ClampedArray.from([1]))}multiply(e,o){return 0===e||0===o?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.size-1)]}inverse(e){if(0===e)throw new Error(\\\"Can't invert 0\\\");return this.expTable[this.size-this.logTable[e]-1]}buildMonomial(e,o){if(e<0)throw new Error(\\\"Invalid monomial degree less than 0\\\");var r;return 0===o?this.zero:((r=new Uint8ClampedArray(e+1))[0]=o,new GenericGFPoly(this,r))}log(e){if(0===e)throw new Error(\\\"Can't take log(0)\\\");return this.logTable[e]}exp(e){return this.expTable[e]}};function runEuclideanAlgorithm(o,e,r,t){e.degree()<r.degree()&&([e,r]=[r,e]);let s=e,c=r,a=o.zero,d=o.one;for(;c.degree()>=t/2;){var l=s,n=a;if(s=c,a=d,s.isZero())return null;c=l;let e=o.zero;for(var l=s.getCoefficient(s.degree()),i=o.inverse(l);c.degree()>=s.degree()&&!c.isZero();){var B=c.degree()-s.degree(),k=o.multiply(c.getCoefficient(c.degree()),i);e=e.addOrSubtract(o.buildMonomial(B,k)),c=c.addOrSubtract(s.multiplyByMonomial(B,k))}if(d=e.multiplyPoly(a).addOrSubtract(n),c.degree()>=s.degree())return null}var u=d.getCoefficient(0);return 0===u?null:(u=o.inverse(u),[d.multiply(u),c.multiply(u)])}function findErrorLocations(e,o){var r=o.degree();if(1===r)return[o.getCoefficient(1)];var t=new Array(r);let s=0;for(let c=1;c<e.size&&s<r;c++)0===o.evaluateAt(c)&&(t[s]=e.inverse(c),s++);return s!==r?null:t}function findErrorMagnitudes(r,t,s){var c=s.length,a=new Array(c);for(let l=0;l<c;l++){var d=r.inverse(s[l]);let e=1;for(let o=0;o<c;o++)l!==o&&(e=r.multiply(e,addOrSubtractGF(1,r.multiply(s[o],d))));a[l]=r.multiply(t.evaluateAt(d),r.inverse(e)),0!==r.generatorBase&&(a[l]=r.multiply(a[l],d))}return a}function decode$1(e,o){var r=new Uint8ClampedArray(e.length),t=(r.set(e),new GenericGF(285,256,0)),s=new GenericGFPoly(t,r),c=new Uint8ClampedArray(o);let a=!1;for(let k=0;k<o;k++){var d=s.evaluateAt(t.exp(k+t.generatorBase));0!==(c[c.length-1-k]=d)&&(a=!0)}if(a){var l=new GenericGFPoly(t,c),l=runEuclideanAlgorithm(t,t.buildMonomial(o,1),l,o);if(null===l)return null;var n=findErrorLocations(t,l[0]);if(null==n)return null;var i=findErrorMagnitudes(t,l[1],n);for(let e=0;e<n.length;e++){var B=r.length-1-t.log(n[e]);if(B<0)return null;r[B]=addOrSubtractGF(r[B],i[e])}}return r}var VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function numBitsDiffering(e,o){let r=e^o,t=0;for(;r;)t++,r&=r-1;return t}function pushBit(e,o){return o<<1|e}var FORMAT_INFO_TABLE=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],DATA_MASKS=[e=>(e.y+e.x)%2==0,e=>e.y%2==0,e=>e.x%3==0,e=>(e.y+e.x)%3==0,e=>(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0,e=>e.x*e.y%2+e.x*e.y%3==0,e=>(e.y*e.x%2+e.y*e.x%3)%2==0,e=>((e.y+e.x)%2+e.y*e.x%3)%2==0];function buildFunctionPatternMask(e){var o=17+4*e.versionNumber,r=BitMatrix.createEmpty(o,o);r.setRegion(0,0,9,9,!0),r.setRegion(o-8,0,8,9,!0),r.setRegion(0,o-8,9,8,!0);for(const t of e.alignmentPatternCenters)for(const s of e.alignmentPatternCenters)6===t&&6===s||6===t&&s===o-7||t===o-7&&6===s||r.setRegion(t-2,s-2,5,5,!0);return r.setRegion(6,9,1,o-17,!0),r.setRegion(9,6,o-17,1,!0),6<e.versionNumber&&(r.setRegion(o-11,0,3,6,!0),r.setRegion(0,o-11,6,3,!0)),r}function readCodewords(r,e,o){var t=DATA_MASKS[o.dataMask],s=r.height,c=buildFunctionPatternMask(e),a=[];let d=0,l=0,n=!0;for(let k=s-1;0<k;k-=2){6===k&&k--;for(let o=0;o<s;o++){var i=n?s-1-o:o;for(let e=0;e<2;e++){var B=k-e;if(!c.get(B,i)){l++;let e=r.get(B,i);t({y:i,x:B})&&(e=!e),d=pushBit(e,d),8===l&&(a.push(d),l=0,d=0)}}}n=!n}return a}function readVersion(o){var r=o.height,e=Math.floor((r-17)/4);if(e<=6)return VERSIONS[e-1];let t=0;for(let l=5;0<=l;l--)for(let e=r-9;e>=r-11;e--)t=pushBit(o.get(e,l),t);let s=0;for(let n=5;0<=n;n--)for(let e=r-9;e>=r-11;e--)s=pushBit(o.get(n,e),s);let c=Infinity,a;for(const i of VERSIONS){if(i.infoBits===t||i.infoBits===s)return i;var d=numBitsDiffering(t,i.infoBits);d<c&&(a=i,c=d),(d=numBitsDiffering(s,i.infoBits))<c&&(a=i,c=d)}return c<=3?a:void 0}function readFormatInformation(e){let o=0;for(let n=0;n<=8;n++)6!==n&&(o=pushBit(e.get(n,8),o));for(let i=7;0<=i;i--)6!==i&&(o=pushBit(e.get(8,i),o));var r,t,s=e.height;let c=0;for(let B=s-1;B>=s-7;B--)c=pushBit(e.get(8,B),c);for(let k=s-8;k<s;k++)c=pushBit(e.get(k,8),c);let a=Infinity,d=null;for({bits:r,formatInfo:t}of FORMAT_INFO_TABLE){if(r===o||r===c)return t;var l=numBitsDiffering(o,r);l<a&&(d=t,a=l),o!==c&&(l=numBitsDiffering(c,r))<a&&(d=t,a=l)}return a<=3?d:null}function getDataBlocks(o,e,r){const t=e.errorCorrectionLevels[r],s=[];let c=0;if(t.ecBlocks.forEach(e=>{for(let o=0;o<e.numBlocks;o++)s.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),c+=e.dataCodewordsPerBlock+t.ecCodewordsPerBlock}),o.length<c)return null;o=o.slice(0,c);var a=t.ecBlocks[0].dataCodewordsPerBlock;for(let n=0;n<a;n++)for(const i of s)i.codewords.push(o.shift());if(1<t.ecBlocks.length){var d=t.ecBlocks[0].numBlocks,l=t.ecBlocks[1].numBlocks;for(let e=0;e<l;e++)s[d+e].codewords.push(o.shift())}for(;0<o.length;)for(const B of s)B.codewords.push(o.shift());return s}function decodeMatrix(e){var o=readVersion(e);if(!o)return null;var r=readFormatInformation(e);if(!r)return null;r=getDataBlocks(readCodewords(e,o,r),o,r.errorCorrectionLevel);if(!r)return null;var t=r.reduce((e,o)=>e+o.numDataCodewords,0),s=new Uint8ClampedArray(t);let c=0;for(const l of r){var a=decode$1(l.codewords,l.codewords.length-l.numDataCodewords);if(!a)return null;for(let e=0;e<l.numDataCodewords;e++)s[c++]=a[e]}try{return decode$2(s,o.versionNumber)}catch(d){return null}}function decode(o){if(null==o)return null;var e=decodeMatrix(o);if(e)return e;for(let r=0;r<o.width;r++)for(let e=r+1;e<o.height;e++)o.get(r,e)!==o.get(e,r)&&(o.set(r,e,!o.get(r,e)),o.set(e,r,!o.get(e,r)));return decodeMatrix(o)}function squareToQuadrilateral(e,o,r,t){var s,c,a,d,l=e.x-o.x+r.x-t.x,n=e.y-o.y+r.y-t.y;return 0==l&&0==n?{a11:o.x-e.x,a12:o.y-e.y,a13:0,a21:r.x-o.x,a22:r.y-o.y,a23:0,a31:e.x,a32:e.y,a33:1}:(s=o.x-r.x,d=t.x-r.x,c=o.y-r.y,a=t.y-r.y,{a11:o.x-e.x+(d=(l*a-d*n)/(a=s*a-d*c))*o.x,a12:o.y-e.y+d*o.y,a13:d,a21:t.x-e.x+(d=(s*n-l*c)/a)*t.x,a22:t.y-e.y+d*t.y,a23:d,a31:e.x,a32:e.y,a33:1})}function quadrilateralToSquare(e,o,r,t){var s=squareToQuadrilateral(e,o,r,t);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}function times(e,o){return{a11:e.a11*o.a11+e.a21*o.a12+e.a31*o.a13,a12:e.a12*o.a11+e.a22*o.a12+e.a32*o.a13,a13:e.a13*o.a11+e.a23*o.a12+e.a33*o.a13,a21:e.a11*o.a21+e.a21*o.a22+e.a31*o.a23,a22:e.a12*o.a21+e.a22*o.a22+e.a32*o.a23,a23:e.a13*o.a21+e.a23*o.a22+e.a33*o.a23,a31:e.a11*o.a31+e.a21*o.a32+e.a31*o.a33,a32:e.a12*o.a31+e.a22*o.a32+e.a32*o.a33,a33:e.a13*o.a31+e.a23*o.a32+e.a33*o.a33}}function extract(o,r){var e=quadrilateralToSquare({x:3.5,y:3.5},{x:r.dimension-3.5,y:3.5},{x:r.dimension-6.5,y:r.dimension-6.5},{x:3.5,y:r.dimension-3.5});const t=times(squareToQuadrilateral(r.topLeft,r.topRight,r.alignmentPattern,r.bottomLeft),e);var s=BitMatrix.createEmpty(r.dimension,r.dimension),c=(e,o)=>{var r=t.a13*e+t.a23*o+t.a33;return{x:(t.a11*e+t.a21*o+t.a31)/r,y:(t.a12*e+t.a22*o+t.a32)/r}};for(let d=0;d<r.dimension;d++)for(let e=0;e<r.dimension;e++){var a=c(e+.5,d+.5);s.set(e,d,o.get(Math.floor(a.x),Math.floor(a.y)))}return{matrix:s,mappingFunction:c}}var MAX_FINDERPATTERNS_TO_SEARCH=5,MIN_QUAD_RATIO=.5,MAX_QUAD_RATIO=1.5,distance=(e,o)=>Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));function sum(e){return e.reduce((e,o)=>e+o)}function reorderFinderPatterns(e,o,r){var t=distance(e,o),s=distance(o,r),c=distance(e,r);let a,d,l;return([a,d,l]=t<=s&&c<=s?[o,e,r]:s<=c&&t<=c?[e,o,r]:[e,r,o]),(l.x-d.x)*(a.y-d.y)-(l.y-d.y)*(a.x-d.x)<0&&([a,l]=[l,a]),{bottomLeft:a,topLeft:d,topRight:l}}function computeDimension(e,o,r,t){var s=(sum(countBlackWhiteRun(e,r,t,5))/7+sum(countBlackWhiteRun(e,o,t,5))/7+sum(countBlackWhiteRun(r,e,t,5))/7+sum(countBlackWhiteRun(o,e,t,5))/7)/4;if(s<1)throw new Error(\\\"Invalid module size\\\");var c=Math.round(distance(e,o)/s),a=Math.round(distance(e,r)/s);let d=Math.floor((c+a)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:s}}function countBlackWhiteRunTowardsPoint(e,o,r,t){var s=[{x:Math.floor(e.x),y:Math.floor(e.y)}],c=Math.abs(o.y-e.y)>Math.abs(o.x-e.x);let a,d,l,n;n=c?(a=Math.floor(e.y),d=Math.floor(e.x),l=Math.floor(o.y),Math.floor(o.x)):(a=Math.floor(e.x),d=Math.floor(e.y),l=Math.floor(o.x),Math.floor(o.y));var i=Math.abs(l-a),B=Math.abs(n-d);let k=Math.floor(-i/2);var u=a<l?1:-1,m=d<n?1:-1;let C=!0;for(let h=a,v=d;h!==l+u;h+=u){var w=c?v:h,P=c?h:v;if(r.get(w,P)!==C&&(C=!C,s.push({x:w,y:P}),s.length===t+1))break;if(0<(k+=B)){if(v===n)break;v+=m,k-=i}}var f=[];for(let g=0;g<t;g++)s[g]&&s[g+1]?f.push(distance(s[g],s[g+1])):f.push(0);return f}function countBlackWhiteRun(e,o,r,t){var s=o.y-e.y,c=o.x-e.x,a=countBlackWhiteRunTowardsPoint(e,o,r,Math.ceil(t/2)),c=countBlackWhiteRunTowardsPoint(e,{x:e.x-c,y:e.y-s},r,Math.ceil(t/2)),s=a.shift()+c.shift()-1;return c.concat(s).concat(...a)}function scoreBlackWhiteRun(r,e){const t=sum(r)/sum(e);let s=0;return e.forEach((e,o)=>{s+=Math.pow(r[o]-e*t,2)}),{averageSize:t,error:s}}function scorePattern(e,o,r){try{var t=countBlackWhiteRun(e,{x:-1,y:e.y},r,o.length),s=countBlackWhiteRun(e,{x:e.x,y:-1},r,o.length),c=countBlackWhiteRun(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,o.length),a=countBlackWhiteRun(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,o.length),d=scoreBlackWhiteRun(t,o),l=scoreBlackWhiteRun(s,o),n=scoreBlackWhiteRun(c,o),i=scoreBlackWhiteRun(a,o),B=Math.sqrt(d.error*d.error+l.error*l.error+n.error*n.error+i.error*i.error),k=(d.averageSize+l.averageSize+n.averageSize+i.averageSize)/4;return B+(Math.pow(d.averageSize-k,2)+Math.pow(l.averageSize-k,2)+Math.pow(n.averageSize-k,2)+Math.pow(i.averageSize-k,2))/k}catch(u){return Infinity}}function recenterLocation(e,o){let r=Math.round(o.x);for(;e.get(r,Math.round(o.y));)r--;let t=Math.round(o.x);for(;e.get(t,Math.round(o.y));)t++;var s=(r+t)/2;let c=Math.round(o.y);for(;e.get(Math.round(s),c);)c--;let a=Math.round(o.y);for(;e.get(Math.round(s),a);)a++;return{x:s,y:(c+a)/2}}function locate(s){var c=[];let a=[];var d=[];let l=[];for(let g=0;g<=s.height;g++){let e=0,o=!1,r=[0,0,0,0,0];for(let t=-1;t<=s.width;t++){var n=s.get(t,g);if(n===o)e++;else{r=[r[1],r[2],r[3],r[4],e],e=1,o=n;var i=sum(r)/7,i=Math.abs(r[0]-i)<i&&Math.abs(r[1]-i)<i&&Math.abs(r[2]-3*i)<3*i&&Math.abs(r[3]-i)<i&&Math.abs(r[4]-i)<i&&!n,B=sum(r.slice(-3))/3,B=Math.abs(r[2]-B)<B&&Math.abs(r[3]-B)<B&&Math.abs(r[4]-B)<B&&n;if(i){const b=t-r[3]-r[4],p=b-r[2];n={startX:p,endX:b,y:g},i=a.filter(e=>p>=e.bottom.startX&&p<=e.bottom.endX||b>=e.bottom.startX&&p<=e.bottom.endX||p<=e.bottom.startX&&b>=e.bottom.endX&&r[2]/(e.bottom.endX-e.bottom.startX)<MAX_QUAD_RATIO&&r[2]/(e.bottom.endX-e.bottom.startX)>MIN_QUAD_RATIO);0<i.length?i[0].bottom=n:a.push({top:n,bottom:n})}if(B){const y=t-r[4],M=y-r[3];i={startX:M,y:g,endX:y},n=l.filter(e=>M>=e.bottom.startX&&M<=e.bottom.endX||y>=e.bottom.startX&&M<=e.bottom.endX||M<=e.bottom.startX&&y>=e.bottom.endX&&r[2]/(e.bottom.endX-e.bottom.startX)<MAX_QUAD_RATIO&&r[2]/(e.bottom.endX-e.bottom.startX)>MIN_QUAD_RATIO);0<n.length?n[0].bottom=i:l.push({top:i,bottom:i})}}}c.push(...a.filter(e=>e.bottom.y!==g&&2<=e.bottom.y-e.top.y)),a=a.filter(e=>e.bottom.y===g),d.push(...l.filter(e=>e.bottom.y!==g)),l=l.filter(e=>e.bottom.y===g)}c.push(...a.filter(e=>2<=e.bottom.y-e.top.y)),d.push(...l);var e,o,r,t,k=[];for(const x of c)x.bottom.y-x.top.y<2||(e=(x.top.startX+x.top.endX+x.bottom.startX+x.bottom.endX)/4,o=(x.top.y+x.bottom.y+1)/2,s.get(Math.round(e),Math.round(o))&&(r=sum(r=[x.top.endX-x.top.startX,x.bottom.endX-x.bottom.startX,x.bottom.y-x.top.y+1])/r.length,t=scorePattern({x:Math.round(e),y:Math.round(o)},[1,1,3,1,1],s),k.push({score:t,x:e,y:o,size:r})));if(k.length<3)return null;k.sort((e,o)=>e.score-o.score);var u=[];for(let A=0;A<Math.min(k.length,MAX_FINDERPATTERNS_TO_SEARCH);++A){var m=k[A],C=[];for(const I of k)I!==m&&C.push(Object.assign(Object.assign({},I),{score:I.score+Math.pow(I.size-m.size,2)/m.size}));C.sort((e,o)=>e.score-o.score),u.push({points:[m,C[0],C[1]],score:m.score+C[0].score+C[1].score})}u.sort((e,o)=>e.score-o.score);var{topRight:w,topLeft:P,bottomLeft:f}=reorderFinderPatterns(...u[0].points),h=findAlignmentPattern(s,d,w,P,f),v=[],h=(h&&v.push({alignmentPattern:{x:h.alignmentPattern.x,y:h.alignmentPattern.y},bottomLeft:{x:f.x,y:f.y},dimension:h.dimension,topLeft:{x:P.x,y:P.y},topRight:{x:w.x,y:w.y}}),recenterLocation(s,w)),w=recenterLocation(s,P),P=recenterLocation(s,f),f=findAlignmentPattern(s,d,h,w,P);return f&&v.push({alignmentPattern:{x:f.alignmentPattern.x,y:f.alignmentPattern.y},bottomLeft:{x:P.x,y:P.y},topLeft:{x:w.x,y:w.y},topRight:{x:h.x,y:h.y},dimension:f.dimension}),0===v.length?null:v}function findAlignmentPattern(t,e,o,r,s){let c,a;try{({dimension:c,moduleSize:a}=computeDimension(r,o,s,t))}catch(k){return null}const d=o.x-r.x+s.x,l=o.y-r.y+s.y;var n=(distance(r,s)+distance(r,o))/2/a,i=1-3/n;const B={x:r.x+i*(d-r.x),y:r.y+i*(l-r.y)};i=e.map(e=>{var o=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,r=(e.top.y+e.bottom.y+1)/2;if(t.get(Math.floor(o),Math.floor(r)))return{x:o,y:r,score:scorePattern({x:Math.floor(o),y:Math.floor(r)},[1,1,1],t)+distance({x:o,y:r},B)}}).filter(e=>!!e).sort((e,o)=>e.score-o.score);return{alignmentPattern:15<=n&&i.length?i[0]:B,dimension:c}}function scan(e){var o=locate(e);if(o)for(const s of o){var r=extract(e,s),t=decode(r.matrix);if(t)return{binaryData:t.bytes,data:t.text,chunks:t.chunks,version:t.version,location:{topRightCorner:r.mappingFunction(s.dimension,0),topLeftCorner:r.mappingFunction(0,0),bottomRightCorner:r.mappingFunction(s.dimension,s.dimension),bottomLeftCorner:r.mappingFunction(0,s.dimension),topRightFinderPattern:s.topRight,topLeftFinderPattern:s.topLeft,bottomLeftFinderPattern:s.bottomLeft,bottomRightAlignmentPattern:s.alignmentPattern},matrix:r.matrix}}return null}var defaultOptions={inversionAttempts:\\\"attemptBoth\\\",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function mergeObject(o,r){Object.keys(r).forEach(e=>{o[e]=r[e]})}function jsQR(e,o,r,t={}){var s=Object.create(null),c=(mergeObject(s,defaultOptions),mergeObject(s,t),\\\"onlyInvert\\\"===s.inversionAttempts||\\\"invertFirst\\\"===s.inversionAttempts),{binarized:a,inverted:d}=binarize(e,o,r,\\\"attemptBoth\\\"===s.inversionAttempts||c,s.greyScaleWeights,s.canOverwriteImage);let l=scan(c?d:a);return l=l||\\\"attemptBoth\\\"!==s.inversionAttempts&&\\\"invertFirst\\\"!==s.inversionAttempts?l:scan(c?a:d)}jsQR[\\\"default\\\"]=jsQR;var Widget=require(\\\"$:/core/modules/widgets/widget.js\\\").widget,ScanQRWidget=class extends Widget{constructor(){super(...arguments),this.loopId=0}refresh(e){return!1}render(e,o){this.parentDomNode=e,this.computeAttributes(),this.execute();const r=this.getAttribute(\\\"outputTiddler\\\"),t=this.getAttribute(\\\"stateTiddler\\\"),s=this.getAttribute(\\\"field\\\")||\\\"text\\\",c=\\\"yes\\\"===this.getAttribute(\\\"stopOnDetect\\\")||\\\"true\\\"===this.getAttribute(\\\"stopOnDetect\\\"),a=document.createElement(\\\"div\\\"),d=(a.innerHTML=`\\n    <div>\\n      <div id=\\\"scan-qr-widget-loadingMessage\\\">🎥 Unable to access video stream (please make sure you have a webcam enabled)</div>\\n      <canvas id=\\\"scan-qr-widget-canvas\\\" hidden></canvas>\\n      <div id=\\\"scan-qr-widget-output\\\" hidden>\\n        <div id=\\\"scan-qr-widget-outputMessage\\\">No QR code detected.</div>\\n        <div hidden><b>Data:</b> <span id=\\\"scan-qr-widget-outputData\\\"></span></div>\\n      </div>\\n    </div>\\n    `,this.domNodes.push(a),this.loopId+=1,this.loopId);requestAnimationFrame(()=>{this.jsqr(d,a,{outputTiddler:r,stopOnDetect:c,stateTiddler:t,outputField:s})}),e.appendChild(a)}async jsqr(c,a,d){const l=document.createElement(\\\"video\\\"),n=document.querySelector(\\\"#scan-qr-widget-canvas\\\");if(null===n)console.warn(\\\"ScanQRWidget: canvasElement is null\\\");else{const B=n.getContext(\\\"2d\\\"),k=document.querySelector(\\\"#scan-qr-widget-loadingMessage\\\"),u=document.querySelector(\\\"#scan-qr-widget-output\\\"),m=document.querySelector(\\\"#scan-qr-widget-outputMessage\\\"),C=document.querySelector(\\\"#scan-qr-widget-outputData\\\");if(null===B||null===C)console.warn(\\\"ScanQRWidget: canvas or outputData is null\\\",{canvas:B,outputData:C});else{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:\\\"environment\\\"}});let t,s=!1;const P=()=>{var e;if(null===k||null===n||null===u||null===B||null===m||null===C||null===C.parentElement)console.warn(\\\"ScanQRWidget: !loadingMessage || !canvasElement || !outputContainer || !canvas || !outputMessage || !outputData || !outputData.parentElement, it is null\\\",{loadingMessage:k,canvasElement:n,outputContainer:u,canvas:B,outputMessage:m,outputData:C,\\\"outputData.parentElement\\\":null==C?void 0:C.parentElement});else{if(k.textContent=\\\"⌛ Loading video...\\\",l.readyState===l.HAVE_ENOUGH_DATA){k.hidden=!0,n.hidden=!1,u.hidden=!1,n.height=l.videoHeight,n.width=l.videoWidth,B.drawImage(l,0,0,n.width,n.height);var o=B.getImageData(0,0,n.width,n.height),o=jsQR(o.data,o.width,o.height,{inversionAttempts:\\\"dontInvert\\\"});m.hidden=!0,C.parentElement.hidden=!1;let e;null===o?e=\\\"No code detected\\\":(i(o.location.topLeftCorner,o.location.topRightCorner,\\\"#FF3B58\\\"),i(o.location.topRightCorner,o.location.bottomRightCorner,\\\"#FF3B58\\\"),i(o.location.bottomRightCorner,o.location.bottomLeftCorner,\\\"#FF3B58\\\"),i(o.location.bottomLeftCorner,o.location.topLeftCorner,\\\"#FF3B58\\\"),e=o.data,s=!0),e!==t&&(C.textContent=null!=(o=C.textContent)?o:\\\"\\\",C.textContent+=e+`\\n`,t=e,d.outputTiddler)&&(o={...null==(o=$tw.wiki.getTiddler(d.outputTiddler))?void 0:o.fields,title:d.outputTiddler,[d.outputField]:e},$tw.wiki.addTiddler(o))}var o=d.stopOnDetect&&s,r=this.loopId===c&&null!==a.offsetParent;r&&!o||(l.pause(),null!=(e=l.parentElement)&&e.removeChild(l),w.getTracks().forEach(function(e){e.stop()})),o&&null!=d&&d.stateTiddler&&$tw.wiki.addTiddler({title:d.stateTiddler,text:\\\"no\\\"}),r&&!o&&requestAnimationFrame(P)}};function i(e,o,r){null!==B&&(B.beginPath(),B.moveTo(e.x,e.y),B.lineTo(o.x,o.y),B.lineWidth=4,B.strokeStyle=r,B.stroke())}l.srcObject=w,l.setAttribute(\\\"playsinline\\\",\\\"true\\\"),await l.play(),requestAnimationFrame(P)}}}};exports.widget=ScanQRWidget,exports.ScanQRWidget=ScanQRWidget;\"},\"$:/plugins/linonetwo/tw-mobile-sync/client-info-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/client-info-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/client-info-endpoint.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/client-info$/;var handler=function handler2(e,n,t){var o=require(\\\"$:/plugins/linonetwo/tw-mobile-sync/clientInfoStore.js\\\").store,o=JSON.stringify(o.allClient);n.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),n.writeHead(200,{\\\"Content-Type\\\":\\\"application/json\\\"}),n.end(o,\\\"utf8\\\")};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-get-html-endpoint-options.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-get-html-endpoint-options.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-get-html-endpoint-options.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"OPTIONS\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/get-full-html$/;var handler=function handler2(e,t,r){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),t.setHeader(\\\"Access-Control-Allow-Methods\\\",\\\"GET, OPTIONS\\\"),t.setHeader(\\\"Access-Control-Allow-Headers\\\",\\\"*\\\"),t.writeHead(200),t.end()};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-get-html-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-get-html-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-get-html-endpoint.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/get-full-html$/;var templateName=\\\"$:/core/save/all\\\",handler=function handler2(e,t,l){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\");var r,i=null!=(i=l.server.get(\\\"root-render-type\\\"))?i:\\\"text/plain\\\",a=l.wiki.renderTiddler(i,templateName,{variables:{publishFilter:\\\"-[type[application/msword]] -[type[application/pdf]] -[[$:/plugins/tiddlywiki/filesystem]] -[[$:/plugins/tiddlywiki/tiddlyweb]] -[[$:/plugins/twcloud/tiddlyweb-sse]]\\\"}});try{t.writeHead(200,{\\\"Content-Type\\\":null!=(r=l.server.get(\\\"root-serve-type\\\"))?r:i}),t.end(a,\\\"utf8\\\")}catch(d){t.writeHead(500),t.end(`Failed to render tiddlers using ${templateName} , ${d.message} `+(null!=(r=d.stack)?r:\\\"\\\"),\\\"utf8\\\")}};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-get-skinny-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-get-skinny-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-get-skinny-endpoint.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/get-skinny-html$/;var templateName=\\\"$:/core/save/lazy-all\\\",handler=function handler2(e,t,l){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\");var r,i=null!=(i=l.server.get(\\\"root-render-type\\\"))?i:\\\"text/plain\\\",a=l.wiki.renderTiddler(i,templateName,{variables:{publishFilter:\\\"-[type[application/msword]] -[type[application/pdf]] -[[$:/plugins/tiddlywiki/filesystem]] -[[$:/plugins/tiddlywiki/tiddlyweb]] -[[$:/plugins/twcloud/tiddlyweb-sse]]\\\"}});try{t.writeHead(200,{\\\"Content-Type\\\":null!=(r=l.server.get(\\\"root-serve-type\\\"))?r:i}),t.end(a,\\\"utf8\\\")}catch(d){t.writeHead(500),t.end(`Failed to render tiddlers using ${templateName} , ${d.message} `+(null!=(r=d.stack)?r:\\\"\\\"),\\\"utf8\\\")}};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-status-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-status-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-status-endpoint.ts\",\"text\":\"\\\"use strict\\\";function getClientInfo(e,n=\\\"online\\\"){var r;return{Origin:null!=(r=e.rawHeaders[e.rawHeaders.indexOf(\\\"Origin\\\")+1])?r:e.rawHeaders[e.rawHeaders.indexOf(\\\"Referer\\\")+1],\\\"User-Agent\\\":e.rawHeaders[e.rawHeaders.indexOf(\\\"User-Agent\\\")+1],timestamp:Date.now(),state:n}}exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/status$/;var handler=function handler2(e,n,r){var t=getClientInfo(e),a=(require(\\\"$:/plugins/linonetwo/tw-mobile-sync/clientInfoStore.js\\\").store.updateClient(\\\"\\\"+(null!=(a=t.Origin)?a:\\\"\\\")+(null!=(a=t[\\\"User-Agent\\\"])?a:\\\"\\\"),t),JSON.stringify({username:null!=(t=null!=(a=r.authenticatedUsername)?a:r.server.get(\\\"anon-username\\\"))?t:\\\"\\\",anonymous:!r.authenticatedUsername,read_only:!r.server.isAuthorized(\\\"writers\\\",r.authenticatedUsername),space:{recipe:\\\"default\\\"},tiddlywiki_version:$tw.version}));n.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),n.writeHead(200,{\\\"Content-Type\\\":\\\"application/json\\\"}),n.end(a,\\\"utf8\\\")};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-sync-endpoint-options.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-sync-endpoint-options.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-sync-endpoint-options.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"OPTIONS\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/html-node-sync$/;var handler=function handler2(e,r,s){r.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),r.setHeader(\\\"Access-Control-Allow-Methods\\\",\\\"POST, OPTIONS\\\"),r.setHeader(\\\"Access-Control-Allow-Headers\\\",\\\"*\\\"),r.writeHead(200),r.end()};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/server-sync-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/server-sync-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/server-sync-endpoint.ts\",\"text\":\"\\\"use strict\\\";function getDiffFilter(e){return`[all[]] :filter[get[modified]compare:date:gt[${null!=e?e:\\\"\\\"}]]`}function getClientInfo(e,t=\\\"online\\\"){var r;return{Origin:null!=(r=e.rawHeaders[e.rawHeaders.indexOf(\\\"Origin\\\")+1])?r:e.rawHeaders[e.rawHeaders.indexOf(\\\"Referer\\\")+1],\\\"User-Agent\\\":e.rawHeaders[e.rawHeaders.indexOf(\\\"User-Agent\\\")+1],timestamp:Date.now(),state:t}}exports.method=\\\"POST\\\",exports.path=/^\\\\/tw-mobile-sync\\\\/html-node-sync$/;var handler=function handler2(e,t,r){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\");var n,i,{tiddlers:d,lastSync:l}=$tw.utils.parseJSONSafe(r.data),d=filterOutNotSyncedTiddlers(d),l=(Array.isArray(d)||(t.writeHead(400,{\\\"Content-Type\\\":\\\"application/json\\\"}),t.end(\\\"Bad request body, not a tiddler list. \\\"+String(d),\\\"utf8\\\")),getDiffFilter(l)),l=filterOutNotSyncedTiddlers((null!=(l=$tw.wiki.compileFilter(l)())?l:[]).map(e=>$tw.wiki.getTiddler(e)).filter(e=>void 0!==e).map(e=>e.fields));try{r.wiki.addTiddlers(d),t.writeHead(201,{\\\"Content-Type\\\":\\\"application/json\\\"}),t.end(JSON.stringify(l),\\\"utf8\\\");var a=require(\\\"$:/plugins/linonetwo/tw-mobile-sync/clientInfoStore.js\\\").store,o=getClientInfo(e,\\\"onlineActive\\\");void 0!==o.Origin&&a.updateClient(\\\"\\\"+(null!=(i=o.Origin)?i:\\\"\\\")+(null!=(n=o[\\\"User-Agent\\\"])?n:\\\"\\\"),{...o,recentlySyncedString:getSyncedTiddlersText(d,l,{reverse:!0})})}catch(s){t.writeHead(500),t.end(`Failed to add tiddlers ${s.message} `+(null!=(i=s.stack)?i:\\\"\\\"),\\\"utf8\\\")}};function filterOutNotSyncedTiddlers(e){throw new Error(\\\"Function not implemented.\\\")}function getSyncedTiddlersText(e,t,r){throw new Error(\\\"Function not implemented.\\\")}exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-mobile-sync/smart-recognize-ip-address.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-mobile-sync/smart-recognize-ip-address.js\",\"type\":\"application/javascript\",\"module-type\":\"startup\",\"Modern.TiddlyDev#Origin\":\"smart-recognize-ip-address.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,o)=>function(){return o=e?(0,e[__getOwnPropNames(e)[0]])(e=0):o},__commonJS=(e,o)=>function(){return o||(0,e[__getOwnPropNames(e)[0]])((o={exports:{}}).exports,o),o.exports},__copyProps=(o,r,n,t)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(o,e)||e===n||__defProp(o,e,{get:()=>r[e],enumerable:!(t=__getOwnPropDesc(r,e))||t.enumerable});return o},__toESM=(e,o,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!o&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.4.28_ts-node@10.9.1/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,o){init_esbuild_inject();var r=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;o.exports=r}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,o){init_esbuild_inject();var r=require_freeGlobal(),n=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,r=r||n||Function(\\\"return this\\\")();o.exports=r}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,o){init_esbuild_inject();var r=require_root().Symbol;o.exports=r}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o){for(var r=-1,n=null==e?0:e.length,t=Array(n);++r<n;)t[r]=o(e[r],r,e);return t}}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,o){init_esbuild_inject();var r=Array.isArray;o.exports=r}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=Object.prototype,d=n.hasOwnProperty,s=n.toString,_=r?r.toStringTag:void 0;o.exports=function(e){var o=d.call(e,_),r=e[_];try{var n=!(e[_]=void 0)}catch(i){}var t=s.call(e);return n&&(o?e[_]=r:delete e[_]),t}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,o){init_esbuild_inject();var r=Object.prototype.toString;o.exports=function(e){return r.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=require_getRawTag(),t=require_objectToString(),i=r?r.toStringTag:void 0;o.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(i&&i in Object(e)?n:t)(e)}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,o){init_esbuild_inject();var r=require_baseGetTag(),n=require_isObjectLike();o.exports=function(e){return\\\"symbol\\\"==typeof e||n(e)&&\\\"[object Symbol]\\\"==r(e)}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=require_arrayMap(),t=require_isArray(),i=require_isSymbol(),r=r?r.prototype:void 0,d=r?r.toString:void 0;o.exports=function s(e){var o;return\\\"string\\\"==typeof e?e:t(e)?n(e,s)+\\\"\\\":i(e)?d?d.call(e):\\\"\\\":\\\"0\\\"==(o=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":o}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,o){init_esbuild_inject();var r=/\\\\s/;o.exports=function(e){for(var o=e.length;o--&&r.test(e.charAt(o)););return o}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,o){init_esbuild_inject();var r=require_trimmedEndIndex(),n=/^\\\\s+/;o.exports=function(e){return e&&e.slice(0,r(e)+1).replace(n,\\\"\\\")}}}),require_baseSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r){for(var n=-1,t=e.length,i=((r=t<r?t:r)<0&&(r+=t),t=r<(o=o<0?t<-o?0:t+o:o)?0:r-o>>>0,o>>>=0,Array(t));++n<t;)i[n]=e[n+o];return i}}}),require_castSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castSlice.js\\\"(e,o){init_esbuild_inject();var t=require_baseSlice();o.exports=function(e,o,r){var n=e.length;return r=void 0===r?n:r,!o&&n<=r?e:t(e,o,r)}}}),require_baseFindIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r,n){for(var t=e.length,i=r+(n?1:-1);n?i--:++i<t;)if(o(e[i],i,e))return i;return-1}}}),require_baseIsNaN=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return e!=e}}}),require_strictIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r){for(var n=r-1,t=e.length;++n<t;)if(e[n]===o)return n;return-1}}}),require_baseIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js\\\"(e,o){init_esbuild_inject();var n=require_baseFindIndex(),t=require_baseIsNaN(),i=require_strictIndexOf();o.exports=function(e,o,r){return o==o?i(e,o,r):n(e,t,r)}}}),require_charsEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_charsEndIndex.js\\\"(e,o){init_esbuild_inject();var n=require_baseIndexOf();o.exports=function(e,o){for(var r=e.length;r--&&-1<n(o,e[r],0););return r}}}),require_charsStartIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_charsStartIndex.js\\\"(e,o){init_esbuild_inject();var t=require_baseIndexOf();o.exports=function(e,o){for(var r=-1,n=e.length;++r<n&&-1<t(o,e[r],0););return r}}}),require_asciiToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_asciiToArray.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return e.split(\\\"\\\")}}}),require_hasUnicode=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasUnicode.js\\\"(e,o){init_esbuild_inject();var r=RegExp(\\\"[\\\\\\\\u200d\\\\\\\\ud800-\\\\\\\\udfff\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff\\\\\\\\ufe0e\\\\\\\\ufe0f]\\\");o.exports=function(e){return r.test(e)}}}),require_unicodeToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_unicodeToArray.js\\\"(e,o){init_esbuild_inject();var r=\\\"\\\\\\\\ud800-\\\\\\\\udfff\\\",n=\\\"[\\\"+r+\\\"]\\\",t=\\\"[\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff]\\\",i=\\\"\\\\\\\\ud83c[\\\\\\\\udffb-\\\\\\\\udfff]\\\",r=\\\"[^\\\"+r+\\\"]\\\",d=\\\"(?:\\\\\\\\ud83c[\\\\\\\\udde6-\\\\\\\\uddff]){2}\\\",s=\\\"[\\\\\\\\ud800-\\\\\\\\udbff][\\\\\\\\udc00-\\\\\\\\udfff]\\\",_=\\\"(?:[\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff]|\\\\\\\\ud83c[\\\\\\\\udffb-\\\\\\\\udfff])?\\\",u=\\\"[\\\\\\\\ufe0e\\\\\\\\ufe0f]?\\\",u=u+_+(\\\"(?:\\\\\\\\u200d(?:\\\"+[r,d,s].join(\\\"|\\\")+\\\")\\\"+u+_+\\\")*\\\"),_=\\\"(?:\\\"+[r+t+\\\"?\\\",t,d,s,n].join(\\\"|\\\")+\\\")\\\",l=RegExp(i+\\\"(?=\\\"+i+\\\")|\\\"+_+u,\\\"g\\\");o.exports=function(e){return e.match(l)||[]}}}),require_stringToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToArray.js\\\"(e,o){init_esbuild_inject();var r=require_asciiToArray(),n=require_hasUnicode(),t=require_unicodeToArray();o.exports=function(e){return(n(e)?t:r)(e)}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,o){init_esbuild_inject();var r=require_baseToString();o.exports=function(e){return null==e?\\\"\\\":r(e)}}}),require_trim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/trim.js\\\"(e,o){init_esbuild_inject();var d=require_baseToString(),s=require_baseTrim(),_=require_castSlice(),u=require_charsEndIndex(),l=require_charsStartIndex(),a=require_stringToArray(),m=require_toString();o.exports=function(e,o,r){var n,t,i;return(e=m(e))&&(r||void 0===o)?s(e):e&&(o=d(o))?(n=a(e),i=a(o),t=l(n,i),i=u(n,i)+1,_(n,t,i).join(\\\"\\\")):e}}}),import_trim=(init_esbuild_inject(),__toESM(require_trim()));function recognize(e,o,r=\\\"text\\\"){if(void 0!==e&&void 0!==o){var t=$tw.wiki.getTiddler(e);if(void 0!==t){var i=t.fields[r];if(\\\"string\\\"==typeof i&&0!==(0,import_trim[\\\"default\\\"])(i).length){var d,s=/(((\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5])[.。]){3}(\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5]))[:：](\\\\d{2,5})/gm;let r,n;for(;null!==(d=s.exec(i));)d.index===s.lastIndex&&s.lastIndex++,d.forEach((e,o)=>{1===o&&(r=e),5===o&&(n=e)});void 0===r&&void 0===n||(t={...null==(t=$tw.wiki.getTiddler(o))?void 0:t.fields,title:o,ipAddress:r,port:n},$tw.wiki.addTiddler(t))}}}}exports.platforms=[\\\"browser\\\"],exports.after=[\\\"rootwidget\\\"],exports.startup=()=>{$tw.rootWidget.addEventListener(\\\"tw-mobile-sync-smart-recognize-ip-address\\\",e=>{var o;return recognize(null==(o=e.paramObject)?void 0:o.from,null!=(o=null==(o=e.paramObject)?void 0:o.to)?o:null==(o=e.paramObject)?void 0:o.from,null==(o=e.paramObject)?void 0:o.field)})};\"}}}","title":"$:/plugins/linonetwo/tw-mobile-sync","type":"application/json","version":"0.5.0","Modern.TiddlyDev#SHA256-Hashed":"19b4aadd44884c774a23a3b2873d5c42e533f8eb1f241000082e3299778bb963"}